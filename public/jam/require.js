/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

// (c) Steven Sanderson - http://knockoutjs.com/

// License: MIT (http://www.opensource.org/licenses/mit-license.php)

/* Copyright (c) 2010-2012 Marcus Westin
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

// moment.js
// version : 1.7.2
// author : Tim Wood
// license : MIT
// momentjs.com

//     Underscore.js 1.4.3
//     http://underscorejs.org
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore may be freely distributed under the MIT license.

/*
 postal
 Author: Jim Cowart (http://freshbrewedcode.com/jimcowart)
 License: Dual licensed MIT (http://www.opensource.org/licenses/mit-license) & GPL (http://www.opensource.org/licenses/gpl-license)
 Version 0.7.3
 */

function Hammer(e,t,n){function x(e){return e.touches?e.touches.length:1}function T(e){e=e||window.event;if(!S){var t=document,n=t.body;return[{x:e.pageX||e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t&&t.clientLeft||n&&t.clientLeft||0),y:e.pageY||e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t&&t.clientTop||n&&t.clientTop||0)}]}var r=[],i,s=e.touches.length>0?e.touches:e.changedTouches;for(var o=0,u=s.length;o<u;o++)i=s[o],r.push({x:i.pageX,y:i.pageY});return r}function N(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function C(e,t){if(e.length==2&&t.length==2){var n,r;n=e[0].x-e[1].x,r=e[0].y-e[1].y;var i=Math.sqrt(n*n+r*r);n=t[0].x-t[1].x,r=t[0].y-t[1].y;var s=Math.sqrt(n*n+r*r);return s/i}return 0}function k(e,t){if(e.length==2&&t.length==2){var n,r;n=e[0].x-e[1].x,r=e[0].y-e[1].y;var i=Math.atan2(r,n)*180/Math.PI;n=t[0].x-t[1].x,r=t[0].y-t[1].y;var s=Math.atan2(r,n)*180/Math.PI;return s-i}return 0}function L(e,t){t.touches=T(t.originalEvent),t.type=e,H(r["on"+e])&&r["on"+e].call(r,t)}function A(e){e=e||window.event,e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)}function O(){a={},l=!1,f=0,s=0,o=0,c=null}function _(n){switch(n.type){case"mousedown":case"touchstart":a.start=T(n),p=(new Date).getTime(),f=x(n),l=!0,b=n;var r=e.getBoundingClientRect(),i=e.clientTop||document.body.clientTop||0,d=e.clientLeft||document.body.clientLeft||0,v=window.pageYOffset||e.scrollTop||document.body.scrollTop,m=window.pageXOffset||e.scrollLeft||document.body.scrollLeft;g={top:r.top+v-i,left:r.left+m-d},y=!0,M.hold(n),t.prevent_default&&A(n);break;case"mousemove":case"touchmove":if(!y)return!1;w=n,a.move=T(n),M.transform(n)||M.drag(n);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!y||c!="transform"&&n.touches&&n.touches.length>0)return!1;y=!1,E=n;var S=c=="drag";M.swipe(n),S?L("dragend",{originalEvent:n,direction:u,distance:s,angle:o}):c=="transform"?L("transformend",{originalEvent:n,position:a.center,scale:C(a.start,a.move),rotation:k(a.start,a.move)}):M.tap(b),h=c,L("release",{originalEvent:n,gesture:c}),O()}}function D(e,t){!t&&window.event&&window.event.toElement&&(t=window.event.toElement);if(e===t)return!0;if(t){var n=t.parentNode;while(n!==null){if(n===e)return!0;n=n.parentNode}}return!1}function P(e,t){var n={};if(!t)return e;for(var r in e)r in t?n[r]=t[r]:n[r]=e[r];return n}function H(e){return Object.prototype.toString.call(e)=="[object Function]"}function B(e,t,n){t=t.split(" ");for(var r=0,i=t.length;r<i;r++)e.addEventListener?e.addEventListener(t[r],n,!1):document.attachEvent&&e.attachEvent("on"+t[r],n)}var r=this,i={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};t=P(i,t),function(){if(!t.css_hacks)return!1;var n=["webkit","moz","ms","o",""],r={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},i="";for(var s=0;s<n.length;s++)for(var o in r)i=o,n[s]&&(i=n[s]+i.substring(0,1).toUpperCase()+i.substring(1)),e.style[i]=r[o]}();var s=0,o=0,u=0,a={},f=0,l=!1,c=null,h=null,p=null,d={x:0,y:0},v=null,m=null,g={},y=!1,b,w,E,S="ontouchstart"in window;this.option=function(e,r){return r!=n&&(t[e]=r),t[e]},this.getDirectionFromAngle=function(e){var t={down:e>=45&&e<135,left:e>=135||e<=-135,up:e<-45&&e>-135,right:e>=-45&&e<=45},n,r;for(r in t)if(t[r]){n=r;break}return n};var M={hold:function(e){t.hold&&(c="hold",clearTimeout(m),m=setTimeout(function(){c=="hold"&&L("hold",{originalEvent:e,position:a.start})},t.hold_timeout))},swipe:function(e){if(!a.move)return;var n=a.move[0].x-a.start[0].x,i=a.move[0].y-a.start[0].y;s=Math.sqrt(n*n+i*i);var f=(new Date).getTime(),l=f-p;if(t.swipe&&t.swipe_time>l&&s>t.swipe_min_distance){o=N(a.start[0],a.move[0]),u=r.getDirectionFromAngle(o),c="swipe";var h={x:a.move[0].x-g.left,y:a.move[0].y-g.top},d={originalEvent:e,position:h,direction:u,distance:s,distanceX:n,distanceY:i,angle:o};L("swipe",d)}},drag:function(e){var n=a.move[0].x-a.start[0].x,i=a.move[0].y-a.start[0].y;s=Math.sqrt(n*n+i*i);if(t.drag&&s>t.drag_min_distance||c=="drag"){o=N(a.start[0],a.move[0]),u=r.getDirectionFromAngle(o);var f=u=="up"||u=="down";if((f&&!t.drag_vertical||!f&&!t.drag_horizontal)&&s>t.drag_min_distance)return;c="drag";var h={x:a.move[0].x-g.left,y:a.move[0].y-g.top},p={originalEvent:e,position:h,direction:u,distance:s,distanceX:n,distanceY:i,angle:o};l&&(L("dragstart",p),l=!1),L("drag",p),A(e)}},transform:function(e){if(t.transform){if(x(e)!=2)return!1;var n=k(a.start,a.move),r=C(a.start,a.move);if(c!="drag"&&(c=="transform"||Math.abs(1-r)>t.scale_treshold||Math.abs(n)>t.rotation_treshold)){c="transform",a.center={x:(a.move[0].x+a.move[1].x)/2-g.left,y:(a.move[0].y+a.move[1].y)/2-g.top};var i={originalEvent:e,position:a.center,scale:r,rotation:n};return l&&(L("transformstart",i),l=!1),L("transform",i),A(e),!0}}return!1},tap:function(e){var n=(new Date).getTime(),r=n-p;if(t.hold&&!(t.hold&&t.hold_timeout>r))return;var i=function(){if(d&&t.tap_double&&h=="tap"&&p-v<t.tap_max_interval){var e=Math.abs(d[0].x-a.start[0].x),n=Math.abs(d[0].y-a.start[0].y);return d&&a.start&&Math.max(e,n)<t.tap_double_distance}return!1}();if(i)c="double_tap",v=null,L("doubletap",{originalEvent:e,position:a.start}),A(e);else{var o=a.move?Math.abs(a.move[0].x-a.start[0].x):0,u=a.move?Math.abs(a.move[0].y-a.start[0].y):0;s=Math.max(o,u),s<t.tap_max_distance&&(c="tap",v=n,d=a.start,t.tap&&(L("tap",{originalEvent:e,position:a.start}),A(e)))}}};S?B(e,"touchstart touchmove touchend touchcancel",_):(B(e,"mouseup mousedown mousemove",_),B(e,"mouseout",function(t){D(e,t.relatedTarget)||_(t)}))}var requirejs,require,define;(function(global){function isFunction(e){return ostring.call(e)==="[object Function]"}function isArray(e){return ostring.call(e)==="[object Array]"}function each(e,t){if(e){var n;for(n=0;n<e.length;n+=1)if(e[n]&&t(e[n],n,e))break}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1;n-=1)if(e[n]&&t(e[n],n,e))break}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){if(n||!hasProp(e,i))r&&typeof t!="string"?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function d(e){var t,n;for(t=0;e[t];t+=1){n=e[t];if(n===".")e.splice(t,1),t-=1;else if(n===".."){if(t===1&&(e[2]===".."||e[0]===".."))break;t>0&&(e.splice(t-1,2),t-=2)}}}function v(e,t,n){var r,i,s,u,a,f,l,c,h,p,v,m=t&&t.split("/"),g=m,y=o.map,b=y&&y["*"];e&&e.charAt(0)==="."&&(t?(getOwn(o.pkgs,t)?g=m=[t]:g=m.slice(0,m.length-1),e=g.concat(e.split("/")),d(e),i=getOwn(o.pkgs,r=e[0]),e=e.join("/"),i&&e===r+"/"+i.main&&(e=r)):e.indexOf("./")===0&&(e=e.substring(2)));if(n&&(m||b)&&y){u=e.split("/");for(a=u.length;a>0;a-=1){l=u.slice(0,a).join("/");if(m)for(f=m.length;f>0;f-=1){s=getOwn(y,m.slice(0,f).join("/"));if(s){s=getOwn(s,l);if(s){c=s,h=a;break}}}if(c)break;!p&&b&&getOwn(b,l)&&(p=getOwn(b,l),v=a)}!c&&p&&(c=p,h=v),c&&(u.splice(0,h,c),e=u.join("/"))}return e}function m(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===r.contextName)return t.parentNode.removeChild(t),!0})}function g(e){var t=getOwn(o.paths,e);if(t&&isArray(t)&&t.length>1)return m(e),t.shift(),r.require.undef(e),r.require([e]),!0}function y(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function b(e,t,n,i){var s,o,u,a,f=null,c=t?t.name:null,d=e,m=!0,g="";return e||(m=!1,e="_@r"+(h+=1)),a=y(e),f=a[0],e=a[1],f&&(f=v(f,c,i),o=getOwn(l,f)),e&&(f?o&&o.normalize?g=o.normalize(e,function(e){return v(e,c,i)}):g=v(e,c,i):(g=v(e,c,i),a=y(g),f=a[0],g=a[1],n=!0,s=r.nameToUrl(g))),u=f&&!o&&!n?"_unnormalized"+(p+=1):"",{prefix:f,name:g,parentMap:t,unnormalized:!!u,url:s,originalName:d,isDefine:m,id:(f?f+"!"+g:g)+u}}function w(e){var t=e.id,n=getOwn(u,t);return n||(n=u[t]=new r.Module(e)),n}function E(e,t,n){var r=e.id,i=getOwn(u,r);hasProp(l,r)&&(!i||i.defineEmitComplete)?t==="defined"&&n(l[r]):w(e).on(t,n)}function S(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(u,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function x(){globalDefQueue.length&&(apsp.apply(f,[f.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function T(e){delete u[e]}function N(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var s=r.id,o=getOwn(u,s);o&&!e.depMatched[i]&&!n[s]&&(getOwn(t,s)?(e.defineDep(i,l[s]),e.check()):N(o,t,n))}),n[r]=!0)}function C(){var e,n,i,a,f=o.waitSeconds*1e3,l=f&&r.startTime+f<(new Date).getTime(),c=[],h=[],p=!1,d=!0;if(t)return;t=!0,eachProp(u,function(t){e=t.map,n=e.id;if(!t.enabled)return;e.isDefine||h.push(t);if(!t.error)if(!t.inited&&l)g(n)?(a=!0,p=!0):(c.push(n),m(n));else if(!t.inited&&t.fetched&&e.isDefine){p=!0;if(!e.prefix)return d=!1}});if(l&&c.length)return i=makeError("timeout","Load timeout for modules: "+c,null,c),i.contextName=r.contextName,S(i);d&&each(h,function(e){N(e,{},{})}),(!l||a)&&p&&(isBrowser||isWebWorker)&&!s&&(s=setTimeout(function(){s=0,C()},50)),t=!1}function k(e){hasProp(l,e[0])||w(b(e[0],null,!0)).init(e[1],e[2])}function L(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function A(e){var t=e.currentTarget||e.srcElement;return L(t,r.onScriptLoad,"load","onreadystatechange"),L(t,r.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function O(){var e;x();while(f.length){e=f.shift();if(e[0]===null)return S(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));k(e)}}var t,n,r,i,s,o={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},map:{},config:{}},u={},a={},f=[],l={},c={},h=1,p=1;return i={require:function(e){return e.require?e.require:e.require=r.makeRequire(e.map)},exports:function(e){e.usingExports=!0;if(e.map.isDefine)return e.exports?e.exports:e.exports=l[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return o.config&&getOwn(o.config,e.map.id)||{}},exports:l[e.map.id]}}},n=function(e){this.events=getOwn(a,e.id)||{},this.map=e,this.shim=getOwn(o.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},n.prototype={init:function(e,t,n,r){r=r||{};if(this.inited)return;this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check()},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(this.fetched)return;this.fetched=!0,r.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();r.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))},load:function(){var e=this.map.url;c[e]||(c[e]=!0,r.load(this.map.id,e))},check:function(){if(!this.enabled||this.enabling)return;var e,t,n=this.map.id,i=this.depExports,s=this.exports,o=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error)try{s=r.execCb(n,o,i,s)}catch(a){e=a}else s=r.execCb(n,o,i,s);this.map.isDefine&&(t=this.module,t&&t.exports!==undefined&&t.exports!==this.exports?s=t.exports:s===undefined&&this.usingExports&&(s=this.exports));if(e)return e.requireMap=this.map,e.requireModules=[this.map.id],e.requireType="define",S(this.error=e)}else s=o;this.exports=s,this.map.isDefine&&!this.ignore&&(l[n]=s,req.onResourceLoad&&req.onResourceLoad(r,this.map,this.depMaps)),delete u[n],this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var e=this.map,t=e.id,n=b(e.prefix);this.depMaps.push(n),E(n,"defined",bind(this,function(n){var i,s,a,f=this.map.name,l=this.map.parentMap?this.map.parentMap.name:null,c=r.makeRequire(e.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){n.normalize&&(f=n.normalize(f,function(e){return v(e,l,!0)})||""),s=b(e.prefix+"!"+f,this.map.parentMap),E(s,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),a=getOwn(u,s.id),a&&(this.depMaps.push(s),this.events.error&&a.on("error",bind(this,function(e){this.emit("error",e)})),a.enable());return}i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(u,function(e){e.map.id.indexOf(t+"_unnormalized")===0&&T(e.map.id)}),S(e)}),i.fromText=bind(this,function(n,s){var u=e.name,a=b(u),f=useInteractive;s&&(n=s),f&&(useInteractive=!1),w(a),hasProp(o.config,t)&&(o.config[u]=o.config[t]);try{req.exec(n)}catch(l){return S(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}f&&(useInteractive=!0),this.depMaps.push(a),r.completeLoad(u),c([u],i)}),n.load(e.name,c,i,o)})),r.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,s,o;if(typeof e=="string"){e=b(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(i,e.id);if(o){this.depExports[t]=o(this);return}this.depCount+=1,E(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&E(e,"error",this.errback)}n=e.id,s=u[n],!hasProp(i,n)&&s&&!s.enabled&&r.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(u,e.id);t&&!t.enabled&&r.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),e==="error"&&delete this.events[e]}},r={config:o,contextName:e,registry:u,defined:l,urlFetched:c,defQueue:f,Module:n,makeModuleMap:b,nextTick:req.nextTick,configure:function(e){e.baseUrl&&e.baseUrl.charAt(e.baseUrl.length-1)!=="/"&&(e.baseUrl+="/");var t=o.pkgs,n=o.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?t==="map"?mixin(o[t],e,!0,!0):mixin(o[t],e,!0):o[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),(e.exports||e.init)&&!e.exportsFn&&(e.exportsFn=r.makeShimExports(e)),n[t]=e}),o.shim=n),e.packages&&(each(e.packages,function(e){var n;e=typeof e=="string"?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),o.pkgs=t),eachProp(u,function(e,t){!e.inited&&!e.map.unnormalized&&(e.map=b(t))}),(e.deps||e.callback)&&r.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function s(o,a,f){var c,h,p;return n.enableBuildCallback&&a&&isFunction(a)&&(a.__requireJsBuild=!0),typeof o=="string"?isFunction(a)?S(makeError("requireargs","Invalid require call"),f):t&&hasProp(i,o)?i[o](u[t.id]):req.get?req.get(r,o,t):(h=b(o,t,!1,!0),c=h.id,hasProp(l,c)?l[c]:S(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(O(),r.nextTick(function(){O(),p=w(b(null,t)),p.skipMap=n.skipMap,p.init(o,a,f,{enabled:!0}),C()}),s)}return n=n||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var n,i,s=e.lastIndexOf("."),o=e.split("/")[0],u=o==="."||o==="..";return s!==-1&&(!u||s>1)&&(n=e.substring(s,e.length),e=e.substring(0,s)),i=r.nameToUrl(v(e,t&&t.id,!0),n||".fake"),n?i:i.substring(0,i.length-5)},defined:function(e){return hasProp(l,b(e,t,!1,!0).id)},specified:function(e){return e=b(e,t,!1,!0).id,hasProp(l,e)||hasProp(u,e)}}),t||(s.undef=function(e){x();var n=b(e,t,!0),r=getOwn(u,e);delete l[e],delete c[n.url],delete a[e],r&&(r.events.defined&&(a[e]=r.events),T(e))}),s},enable:function(e){var t=getOwn(u,e.id);t&&w(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(o.shim,e)||{},s=i.exports;x();while(f.length){n=f.shift();if(n[0]===null){n[0]=e;if(t)break;t=!0}else n[0]===e&&(t=!0);k(n)}r=getOwn(u,e);if(!t&&!hasProp(l,e)&&r&&!r.inited){if(o.enforceDefine&&(!s||!getGlobal(s))){if(g(e))return;return S(makeError("nodefine","No define call for "+e,null,[e]))}k([e,i.deps||[],i.exportsFn])}C()},nameToUrl:function(e,t){var n,r,i,s,u,a,f,l,c;if(req.jsExtRegExp.test(e))l=e+(t||"");else{n=o.paths,r=o.pkgs,u=e.split("/");for(a=u.length;a>0;a-=1){f=u.slice(0,a).join("/"),i=getOwn(r,f),c=getOwn(n,f);if(c){isArray(c)&&(c=c[0]),u.splice(0,a,c);break}if(i){e===i.name?s=i.location+"/"+i.main:s=i.location,u.splice(0,a,s);break}}l=u.join("/"),l+=t||(/\?/.test(l)?"":".js"),l=(l.charAt(0)==="/"||l.match(/^[\w\+\.\-]+:/)?"":o.baseUrl)+l}return o.urlArgs?l+((l.indexOf("?")===-1?"?":"&")+o.urlArgs):l},load:function(e,t){req.load(r,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if(e.type==="load"||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=A(e);r.completeLoad(t.id)}},onScriptError:function(e){var t=A(e);if(!g(t.id))return S(makeError("scripterror","Script error",e,[t.id]))}},r.require=r.makeRequire(),r}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(e){if(e.readyState==="interactive")return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.4",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=typeof window!="undefined"&&!!navigator&&!!document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(e,t,n,r){var i,s,o=defContextName;return!isArray(e)&&typeof e!="string"&&(s=e,isArray(t)?(e=t,t=n,n=r):e=[]),s&&s.context&&(o=s.context),i=getOwn(contexts,o),i||(i=contexts[o]=req.s.newContext(o)),s&&i.configure(s),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=typeof setTimeout!="undefined"?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(e){throw e},req.load=function(e,t,n){var r=e&&e.config||{},i;if(isBrowser)return i=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=r.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),i.attachEvent&&!(i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)):(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;isWebWorker&&(importScripts(n),e.completeLoad(t))},isBrowser&&eachReverse(scripts(),function(e){head||(head=e.parentNode),dataMain=e.getAttribute("data-main");if(dataMain)return cfg.baseUrl||(src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath,dataMain=mainScript),dataMain=dataMain.replace(jsSuffixRegExp,""),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0}),define=function(e,t,n){var r,i;typeof e!="string"&&(n=t,t=e,e=null),isArray(t)||(n=t,t=[]),!t.length&&isFunction(n)&&n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(n.length===1?["require"]:["require","exports","module"]).concat(t)),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requireLib",function(){});var jam={packages:[{name:"hammer",location:"lib/hammer",main:"hammer.js"},{name:"knockout",location:"lib/knockout",main:"knockout.js"},{name:"knockout.mapping",location:"lib/knockout.mapping",main:"knockout.mapping.js"},{name:"ko.extenders.store",location:"lib/ko.extenders.store",main:"ko.extenders.store.js"},{name:"modernizr",location:"lib/modernizr"},{name:"moment",location:"lib/moment",main:"moment.js"},{name:"postal",location:"lib/postal",main:"lib/browser/postal.js"},{name:"store",location:"lib/store",main:"store"},{name:"underscore",location:"lib/underscore",main:"underscore.js"}],version:"0.2.15",shim:{underscore:{exports:"_"}}};if(typeof require!="undefined"&&require.config)require.config({packages:[{name:"hammer",location:"lib/hammer",main:"hammer.js"},{name:"knockout",location:"lib/knockout",main:"knockout.js"},{name:"knockout.mapping",location:"lib/knockout.mapping",main:"knockout.mapping.js"},{name:"ko.extenders.store",location:"lib/ko.extenders.store",main:"ko.extenders.store.js"},{name:"modernizr",location:"lib/modernizr"},{name:"moment",location:"lib/moment",main:"moment.js"},{name:"postal",location:"lib/postal",main:"lib/browser/postal.js"},{name:"store",location:"lib/store",main:"store"},{name:"underscore",location:"lib/underscore",main:"underscore.js"}],shim:{underscore:{exports:"_"}}});else var require={packages:[{name:"hammer",location:"lib/hammer",main:"hammer.js"},{name:"knockout",location:"lib/knockout",main:"knockout.js"},{name:"knockout.mapping",location:"lib/knockout.mapping",main:"knockout.mapping.js"},{name:"ko.extenders.store",location:"lib/ko.extenders.store",main:"ko.extenders.store.js"},{name:"modernizr",location:"lib/modernizr"},{name:"moment",location:"lib/moment",main:"moment.js"},{name:"postal",location:"lib/postal",main:"lib/browser/postal.js"},{name:"store",location:"lib/store",main:"store"},{name:"underscore",location:"lib/underscore",main:"underscore.js"}],shim:{underscore:{exports:"_"}}};typeof exports!="undefined"&&typeof module!="undefined"&&(module.exports=jam),define("lib/require.config",function(){}),define("hammer",["hammer/hammer"],function(e){return e}),define("hammer/hammer",function(){}),function(){var e=!0;(function(t,n,r,i,s){!function(e){if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var n=module.exports||exports;e(n)}else typeof define=="function"&&define.amd?define("knockout/knockout",["exports"],e):e(t.ko={})}(function(o){function a(e){var t=this;if(e)for(var n in e){var r=u.extenders[n];typeof r=="function"&&(t=r(t,e[n]))}return t}function v(e){u.bindingHandlers[e]={init:function(t,n,r,i){var s=function(){var t={};return t[e]=n(),t};return u.bindingHandlers.event.init.call(this,t,s,r,i)}}}function y(e,t,n,r){u.bindingHandlers[e]={init:function(e,t,n,r,i){return u.utils.domData.set(e,g,{}),{controlsDescendantBindings:!0}},update:function(e,i,s,o,a){var f=u.utils.domData.get(e,g),l=u.utils.unwrapObservable(i()),c=!n!=!l,h=!f.savedNodes,p=h||t||c!==f.didDisplayOnLastUpdate;p&&(h&&(f.savedNodes=u.utils.cloneNodes(u.virtualElements.childNodes(e),!0)),c?(h||u.virtualElements.setDomNodeChildren(e,u.utils.cloneNodes(f.savedNodes)),u.applyBindingsToDescendants(r?r(a,l):a,e)):u.virtualElements.emptyNode(e),f.didDisplayOnLastUpdate=c)}},u.expressionRewriting.bindingRewriteValidators[e]=!1,u.virtualElements.allowedBindings[e]=!0}function b(e,t,n){n&&t!==u.selectExtensions.readValue(e)&&u.selectExtensions.writeValue(e,t),t!==u.selectExtensions.readValue(e)&&u.dependencyDetection.ignore(u.utils.triggerEvent,null,[e,"change"])}var u=typeof o!="undefined"?o:{};u.exportSymbol=function(e,t){var n=e.split("."),r=u;for(var i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},u.exportProperty=function(e,t,n){e[t]=n},u.version="2.2.0",u.exportSymbol("version",u.version),u.utils=new function(){function y(e,t){if(u.utils.tagNameLower(e)!=="input"||!e.type)return!1;if(t.toLowerCase()!="click")return!1;var n=e.type;return n=="checkbox"||n=="radio"}var e=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,o={},a={},f=/Firefox\/2/i.test(r.userAgent)?"KeyboardEvent":"UIEvents";o[f]=["keyup","keydown","keypress"],o.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var l in o){var c=o[l];if(c.length)for(var h=0,p=c.length;h<p;h++)a[c[h]]=l}var d={propertychange:!0},v=function(){var e=3,t=n.createElement("div"),r=t.getElementsByTagName("i");while(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0]);return e>4?e:s}(),m=v===6,g=v===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},arrayIndexOf:function(e,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r]))return e[r];return null},arrayRemoveItem:function(e,t){var n=u.utils.arrayIndexOf(e,t);n>=0&&e.splice(n,1)},arrayGetDistinctValues:function(e){e=e||[];var t=[];for(var n=0,r=e.length;n<r;n++)u.utils.arrayIndexOf(t,e[n])<0&&t.push(e[n]);return t},arrayMap:function(e,t){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)n.push(t(e[r]));return n},arrayFilter:function(e,t){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)t(e[r])&&n.push(e[r]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},emptyDomNode:function(e){while(e.firstChild)u.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){var t=u.utils.makeArray(e),r=n.createElement("div");for(var i=0,s=t.length;i<s;i++)r.appendChild(u.cleanNode(t[i]));return r},cloneNodes:function(e,t){for(var n=0,r=e.length,i=[];n<r;n++){var s=e[n].cloneNode(!0);i.push(t?u.cleanNode(s):s)}return i},setDomNodeChildren:function(e,t){u.utils.emptyDomNode(e);if(t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(n.length>0){var r=n[0],i=r.parentNode;for(var s=0,o=t.length;s<o;s++)i.insertBefore(t[s],r);for(var s=0,o=n.length;s<o;s++)u.removeNode(n[s])}},setOptionNodeSelectionState:function(e,t){v<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(t){return(t||"").replace(e,"")},stringTokenize:function(e,t){var n=[],r=(e||"").split(t);for(var i=0,s=r.length;i<s;i++){var o=u.utils.stringTrim(r[i]);o!==""&&n.push(o)}return n},stringStartsWith:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(t.compareDocumentPosition)return(t.compareDocumentPosition(e)&16)==16;while(e!=null){if(e==t)return!0;e=e.parentNode}return!1},domNodeIsAttachedToDocument:function(e){return u.utils.domNodeIsContainedBy(e,e.ownerDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},registerEventHandler:function(e,t,n){var r=v&&d[t];if(!r&&typeof i!="undefined"){if(y(e,t)){var s=n;n=function(e,t){var n=this.checked;t&&(this.checked=t.checkedStateBeforeEvent!==!0),s.call(this,e),this.checked=n}}i(e).bind(t,n)}else if(!r&&typeof e.addEventListener=="function")e.addEventListener(t,n,!1);else{if(typeof e.attachEvent=="undefined")throw new Error("Browser doesn't support addEventListener or attachEvent");e.attachEvent("on"+t,function(t){n.call(e,t)})}},triggerEvent:function(e,r){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");if(typeof i!="undefined"){var s=[];y(e,r)&&s.push({checkedStateBeforeEvent:e.checked}),i(e).trigger(r,s)}else if(typeof n.createEvent=="function"){if(typeof e.dispatchEvent!="function")throw new Error("The supplied element doesn't support dispatchEvent");var o=a[r]||"HTMLEvents",u=n.createEvent(o);u.initEvent(r,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(u)}else{if(typeof e.fireEvent=="undefined")throw new Error("Browser doesn't support triggering events");y(e,r)&&(e.checked=e.checked!==!0),e.fireEvent("on"+r)}},unwrapObservable:function(e){return u.isObservable(e)?e():e},peekObservable:function(e){return u.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(e,t,n){if(t){var r=/[\w-]+/g,i=e.className.match(r)||[];u.utils.arrayForEach(t.match(r),function(e){var t=u.utils.arrayIndexOf(i,e);t>=0?n||i.splice(t,1):n&&i.push(e)}),e.className=i.join(" ")}},setTextContent:function(e,t){var r=u.utils.unwrapObservable(t);if(r===null||r===s)r="";if(e.nodeType===3)e.data=r;else{var i=u.virtualElements.firstChild(e);!i||i.nodeType!=3||u.virtualElements.nextSibling(i)?u.virtualElements.setDomNodeChildren(e,[n.createTextNode(r)]):i.data=r,u.utils.forceRefresh(e)}},setElementName:function(e,t){e.name=t;if(v<=7)try{e.mergeAttributes(n.createElement("<input name='"+e.name+"'/>"),!1)}catch(r){}},forceRefresh:function(e){if(v>=9){var t=e.nodeType==1?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(v>=9){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=u.utils.unwrapObservable(e),t=u.utils.unwrapObservable(t);var n=[];for(var r=e;r<=t;r++)n.push(r);return n},makeArray:function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t},isIe6:m,isIe7:g,ieVersion:v,getFormFields:function(e,t){var n=u.utils.makeArray(e.getElementsByTagName("input")).concat(u.utils.makeArray(e.getElementsByTagName("textarea"))),r=typeof t=="string"?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[];for(var s=n.length-1;s>=0;s--)r(n[s])&&i.push(n[s]);return i},parseJson:function(e){if(typeof e=="string"){e=u.utils.stringTrim(e);if(e)return t.JSON&&t.JSON.parse?t.JSON.parse(e):(new Function("return "+e))()}return null},stringifyJson:function(e,t,n){if(typeof JSON=="undefined"||typeof JSON.stringify=="undefined")throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(u.utils.unwrapObservable(e),t,n)},postJson:function(e,t,r){r=r||{};var i=r.params||{},s=r.includeFields||this.fieldsIncludedWithJsonPost,o=e;if(typeof e=="object"&&u.utils.tagNameLower(e)==="form"){var a=e;o=a.action;for(var f=s.length-1;f>=0;f--){var l=u.utils.getFormFields(a,s[f]);for(var c=l.length-1;c>=0;c--)i[l[c].name]=l[c].value}}t=u.utils.unwrapObservable(t);var h=n.createElement("form");h.style.display="none",h.action=o,h.method="post";for(var p in t){var d=n.createElement("input");d.name=p,d.value=u.utils.stringifyJson(u.utils.unwrapObservable(t[p])),h.appendChild(d)}for(var p in i){var d=n.createElement("input");d.name=p,d.value=i[p],h.appendChild(d)}n.body.appendChild(h),r.submitter?r.submitter(h):h.submit(),setTimeout(function(){h.parentNode.removeChild(h)},0)}}},u.exportSymbol("utils",u.utils),u.exportSymbol("utils.arrayForEach",u.utils.arrayForEach),u.exportSymbol("utils.arrayFirst",u.utils.arrayFirst),u.exportSymbol("utils.arrayFilter",u.utils.arrayFilter),u.exportSymbol("utils.arrayGetDistinctValues",u.utils.arrayGetDistinctValues),u.exportSymbol("utils.arrayIndexOf",u.utils.arrayIndexOf),u.exportSymbol("utils.arrayMap",u.utils.arrayMap),u.exportSymbol("utils.arrayPushAll",u.utils.arrayPushAll),u.exportSymbol("utils.arrayRemoveItem",u.utils.arrayRemoveItem),u.exportSymbol("utils.extend",u.utils.extend),u.exportSymbol("utils.fieldsIncludedWithJsonPost",u.utils.fieldsIncludedWithJsonPost),u.exportSymbol("utils.getFormFields",u.utils.getFormFields),u.exportSymbol("utils.peekObservable",u.utils.peekObservable),u.exportSymbol("utils.postJson",u.utils.postJson),u.exportSymbol("utils.parseJson",u.utils.parseJson),u.exportSymbol("utils.registerEventHandler",u.utils.registerEventHandler),u.exportSymbol("utils.stringifyJson",u.utils.stringifyJson),u.exportSymbol("utils.range",u.utils.range),u.exportSymbol("utils.toggleDomNodeCssClass",u.utils.toggleDomNodeCssClass),u.exportSymbol("utils.triggerEvent",u.utils.triggerEvent),u.exportSymbol("utils.unwrapObservable",u.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),u.utils.domData=new function(){var e=0,t="__ko__"+(new Date).getTime(),n={};return{get:function(e,t){var n=u.utils.domData.getAll(e,!1);return n===s?s:n[t]},set:function(e,t,n){if(n===s&&u.utils.domData.getAll(e,!1)===s)return;var r=u.utils.domData.getAll(e,!0);r[t]=n},getAll:function(r,i){var o=r[t],u=o&&o!=="null"&&n[o];if(!u){if(!i)return s;o=r[t]="ko"+e++,n[o]={}}return n[o]},clear:function(e){var r=e[t];return r?(delete n[r],e[t]=null,!0):!1}}},u.exportSymbol("utils.domData",u.utils.domData),u.exportSymbol("utils.domData.clear",u.utils.domData.clear),u.utils.domNodeDisposal=new function(){function r(t,n){var r=u.utils.domData.get(t,e);return r===s&&n&&(r=[],u.utils.domData.set(t,e,r)),r}function o(t){u.utils.domData.set(t,e,s)}function a(e){var t=r(e,!1);if(t){t=t.slice(0);for(var s=0;s<t.length;s++)t[s](e)}u.utils.domData.clear(e),typeof i=="function"&&typeof i["cleanData"]=="function"&&i.cleanData([e]),n[e.nodeType]&&f(e)}function f(e){var t,n=e.firstChild;while(t=n)n=t.nextSibling,t.nodeType===8&&a(t)}var e="__ko_domNodeDisposal__"+(new Date).getTime(),t={1:!0,8:!0,9:!0},n={1:!0,9:!0};return{addDisposeCallback:function(e,t){if(typeof t!="function")throw new Error("Callback must be a function");r(e,!0).push(t)},removeDisposeCallback:function(e,t){var n=r(e,!1);n&&(u.utils.arrayRemoveItem(n,t),n.length==0&&o(e))},cleanNode:function(e){if(t[e.nodeType]){a(e);if(n[e.nodeType]){var r=[];u.utils.arrayPushAll(r,e.getElementsByTagName("*"));for(var i=0,s=r.length;i<s;i++)a(r[i])}}return e},removeNode:function(e){u.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)}}},u.cleanNode=u.utils.domNodeDisposal.cleanNode,u.removeNode=u.utils.domNodeDisposal.removeNode,u.exportSymbol("cleanNode",u.cleanNode),u.exportSymbol("removeNode",u.removeNode),u.exportSymbol("utils.domNodeDisposal",u.utils.domNodeDisposal),u.exportSymbol("utils.domNodeDisposal.addDisposeCallback",u.utils.domNodeDisposal.addDisposeCallback),u.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",u.utils.domNodeDisposal.removeDisposeCallback),function(){function r(e){var r=u.utils.stringTrim(e).toLowerCase(),i=n.createElement("div"),s=r.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!r.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!r.indexOf("<td")||!r.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],o="ignored<div>"+s[1]+e+s[2]+"</div>";typeof t["innerShiv"]=="function"?i.appendChild(t.innerShiv(o)):i.innerHTML=o;while(s[0]--)i=i.lastChild;return u.utils.makeArray(i.lastChild.childNodes)}function o(e){var t=i.clean([e]);if(t&&t[0]){var n=t[0];while(n.parentNode&&n.parentNode.nodeType!==11)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}return t}var e=/^(\s*)<!--(.*?)-->/;u.utils.parseHtmlFragment=function(e){return typeof i!="undefined"?o(e):r(e)},u.utils.setHtml=function(e,t){u.utils.emptyDomNode(e),t=u.utils.unwrapObservable(t);if(t!==null&&t!==s){typeof t!="string"&&(t=t.toString());if(typeof i!="undefined")i(e).html(t);else{var n=u.utils.parseHtmlFragment(t);for(var r=0;r<n.length;r++)e.appendChild(n[r])}}}}(),u.exportSymbol("utils.parseHtmlFragment",u.utils.parseHtmlFragment),u.exportSymbol("utils.setHtml",u.utils.setHtml),u.memoization=function(){function t(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function n(){return t()+t()}function r(e,t){if(!e)return;if(e.nodeType==8){var n=u.memoization.parseMemoText(e.nodeValue);n!=null&&t.push({domNode:e,memoId:n})}else if(e.nodeType==1)for(var i=0,s=e.childNodes,o=s.length;i<o;i++)r(s[i],t)}var e={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var r=n();return e[r]=t,"<!--[ko_memo:"+r+"]-->"},unmemoize:function(t,n){var r=e[t];if(r===s)throw new Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete e[t]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];r(e,n);for(var i=0,s=n.length;i<s;i++){var o=n[i].domNode,a=[o];t&&u.utils.arrayPushAll(a,t),u.memoization.unmemoize(n[i].memoId,a),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),u.exportSymbol("memoization",u.memoization),u.exportSymbol("memoization.memoize",u.memoization.memoize),u.exportSymbol("memoization.unmemoize",u.memoization.unmemoize),u.exportSymbol("memoization.parseMemoText",u.memoization.parseMemoText),u.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",u.memoization.unmemoizeDomNodeAndDescendants),u.extenders={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return u.dependentObservable({read:e,write:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}})},notify:function(e,t){return e.equalityComparer=t=="always"?function(){return!1}:u.observable.fn.equalityComparer,e}},u.exportSymbol("extenders",u.extenders),u.subscription=function(e,t,n){this.target=e,this.callback=t,this.disposeCallback=n,u.exportProperty(this,"dispose",this.dispose)},u.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},u.subscribable=function(){this._subscriptions={},u.utils.extend(this,u.subscribable.fn),u.exportProperty(this,"subscribe",this.subscribe),u.exportProperty(this,"extend",this.extend),u.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var f="change";u.subscribable.fn={subscribe:function(e,t,n){n=n||f;var r=t?e.bind(t):e,i=new u.subscription(this,r,function(){u.utils.arrayRemoveItem(this._subscriptions[n],i)}.bind(this));return this._subscriptions[n]||(this._subscriptions[n]=[]),this._subscriptions[n].push(i),i},notifySubscribers:function(e,t){t=t||f,this._subscriptions[t]&&u.dependencyDetection.ignore(function(){u.utils.arrayForEach(this._subscriptions[t].slice(0),function(t){t&&t.isDisposed!==!0&&t.callback(e)})},this)},getSubscriptionsCount:function(){var e=0;for(var t in this._subscriptions)this._subscriptions.hasOwnProperty(t)&&(e+=this._subscriptions[t].length);return e},extend:a},u.isSubscribable=function(e){return typeof e.subscribe=="function"&&typeof e["notifySubscribers"]=="function"},u.exportSymbol("subscribable",u.subscribable),u.exportSymbol("isSubscribable",u.isSubscribable),u.dependencyDetection=function(){var e=[];return{begin:function(t){e.push({callback:t,distinctDependencies:[]})},end:function(){e.pop()},registerDependency:function(t){if(!u.isSubscribable(t))throw new Error("Only subscribable things can act as dependencies");if(e.length>0){var n=e[e.length-1];if(!n||u.utils.arrayIndexOf(n.distinctDependencies,t)>=0)return;n.distinctDependencies.push(t),n.callback(t)}},ignore:function(t,n,r){try{return e.push(null),t.apply(n,r||[])}finally{e.pop()}}}}();var l={"undefined":!0,"boolean":!0,number:!0,string:!0};u.observable=function(t){function r(){if(arguments.length>0){if(!r.equalityComparer||!r.equalityComparer(n,arguments[0]))r.valueWillMutate(),n=arguments[0],e&&(r._latestValue=n),r.valueHasMutated();return this}return u.dependencyDetection.registerDependency(r),n}var n=t;return e&&(r._latestValue=n),u.subscribable.call(r),r.peek=function(){return n},r.valueHasMutated=function(){r.notifySubscribers(n)},r.valueWillMutate=function(){r.notifySubscribers(n,"beforeChange")},u.utils.extend(r,u.observable.fn),u.exportProperty(r,"peek",r.peek),u.exportProperty(r,"valueHasMutated",r.valueHasMutated),u.exportProperty(r,"valueWillMutate",r.valueWillMutate),r},u.observable.fn={equalityComparer:function(t,n){var r=t===null||typeof t in l;return r?t===n:!1}};var c=u.observable.protoProperty="__ko_proto__";u.observable.fn[c]=u.observable,u.hasPrototype=function(e,t){return e===null||e===s||e[c]===s?!1:e[c]===t?!0:u.hasPrototype(e[c],t)},u.isObservable=function(e){return u.hasPrototype(e,u.observable)},u.isWriteableObservable=function(e){return typeof e=="function"&&e[c]===u.observable?!0:typeof e=="function"&&e[c]===u.dependentObservable&&e.hasWriteFunction?!0:!1},u.exportSymbol("observable",u.observable),u.exportSymbol("isObservable",u.isObservable),u.exportSymbol("isWriteableObservable",u.isWriteableObservable),u.observableArray=function(e){arguments.length==0&&(e=[]);if(e===null||e===s||"length"in e){var t=u.observable(e);return u.utils.extend(t,u.observableArray.fn),t}throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},u.observableArray.fn={remove:function(e){var t=this.peek(),n=[],r=typeof e=="function"?e:function(t){return t===e};for(var i=0;i<t.length;i++){var s=t[i];r(s)&&(n.length===0&&this.valueWillMutate(),n.push(s),t.splice(i,1),i--)}return n.length&&this.valueHasMutated(),n},removeAll:function(e){if(e===s){var t=this.peek(),n=t.slice(0);return this.valueWillMutate(),t.splice(0,t.length),this.valueHasMutated(),n}return e?this.remove(function(t){return u.utils.arrayIndexOf(e,t)>=0}):[]},destroy:function(e){var t=this.peek(),n=typeof e=="function"?e:function(t){return t===e};this.valueWillMutate();for(var r=t.length-1;r>=0;r--){var i=t[r];n(i)&&(t[r]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===s?this.destroy(function(){return!0}):e?this.destroy(function(t){return u.utils.arrayIndexOf(e,t)>=0}):[]},indexOf:function(e){var t=this();return u.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())}},u.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){u.observableArray.fn[e]=function(){var t=this.peek();this.valueWillMutate();var n=t[e].apply(t,arguments);return this.valueHasMutated(),n}}),u.utils.arrayForEach(["slice"],function(e){u.observableArray.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),u.exportSymbol("observableArray",u.observableArray),u.dependentObservable=function(t,n,r){function l(e){E.push(e.subscribe(h))}function c(){u.utils.arrayForEach(E,function(e){e.dispose()}),E=[]}function h(){var e=d.throttleEvaluation;e&&e>=0?(clearTimeout(S),S=setTimeout(p,e)):p()}function p(){if(a)return;if(o&&b()){w();return}a=!0;try{var t=u.utils.arrayMap(E,function(e){return e.target});u.dependencyDetection.begin(function(e){var n;(n=u.utils.arrayIndexOf(t,e))>=0?t[n]=s:l(e)});var r=f.call(n);for(var c=t.length-1;c>=0;c--)t[c]&&E.splice(c,1)[0].dispose();o=!0,d.notifySubscribers(i,"beforeChange"),i=r,e&&(d._latestValue=i)}finally{u.dependencyDetection.end()}d.notifySubscribers(i),a=!1,E.length||w()}function d(){if(arguments.length>0){if(typeof g!="function")throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return g.apply(n,arguments),this}return o||p(),u.dependencyDetection.registerDependency(d),i}function v(){return o||p(),i}function m(){return!o||E.length>0}var i,o=!1,a=!1,f=t;f&&typeof f=="object"?(r=f,f=r.read):(r=r||{},f||(f=r.read));if(typeof f!="function")throw new Error("Pass a function that returns the value of the ko.computed");var g=r.write,y=r.disposeWhenNodeIsRemoved||r.disposeWhenNodeIsRemoved||null,b=r.disposeWhen||r.disposeWhen||function(){return!1},w=c,E=[],S=null;n||(n=r.owner),d.peek=v,d.getDependenciesCount=function(){return E.length},d.hasWriteFunction=typeof r.write=="function",d.dispose=function(){w()},d.isActive=m,u.subscribable.call(d),u.utils.extend(d,u.dependentObservable.fn),u.exportProperty(d,"peek",d.peek),u.exportProperty(d,"dispose",d.dispose),u.exportProperty(d,"isActive",d.isActive),u.exportProperty(d,"getDependenciesCount",d.getDependenciesCount),r.deferEvaluation!==!0&&p();if(y&&m()){w=function(){u.utils.domNodeDisposal.removeDisposeCallback(y,arguments.callee),c()},u.utils.domNodeDisposal.addDisposeCallback(y,w);var x=b;b=function(){return!u.utils.domNodeIsAttachedToDocument(y)||x()}}return d},u.isComputed=function(e){return u.hasPrototype(e,u.dependentObservable)};var h=u.observable.protoProperty;u.dependentObservable[h]=u.observable,u.dependentObservable.fn={},u.dependentObservable.fn[h]=u.dependentObservable,u.exportSymbol("dependentObservable",u.dependentObservable),u.exportSymbol("computed",u.dependentObservable),u.exportSymbol("isComputed",u.isComputed),function(){function t(e,i,o){o=o||new r,e=i(e);var u=typeof e=="object"&&e!==null&&e!==s&&!(e instanceof Date);if(!u)return e;var a=e instanceof Array?[]:{};return o.save(e,a),n(e,function(n){var r=i(e[n]);switch(typeof r){case"boolean":case"number":case"string":case"function":a[n]=r;break;case"object":case"undefined":var u=o.get(r);a[n]=u!==s?u:t(r,i,o)}}),a}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);typeof e["toJSON"]=="function"&&t("toJSON")}else for(var r in e)t(r)}function r(){var e=[],t=[];this.save=function(n,r){var i=u.utils.arrayIndexOf(e,n);i>=0?t[i]=r:(e.push(n),t.push(r))},this.get=function(n){var r=u.utils.arrayIndexOf(e,n);return r>=0?t[r]:s}}var e=10;u.toJS=function(n){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return t(n,function(t){for(var n=0;u.isObservable(t)&&n<e;n++)t=t();return t})},u.toJSON=function(e,t,n){var r=u.toJS(e);return u.utils.stringifyJson(r,t,n)}}(),u.exportSymbol("toJS",u.toJS),u.exportSymbol("toJSON",u.toJSON),function(){var e="__ko__hasDomDataOptionValue__";u.selectExtensions={readValue:function(t){switch(u.utils.tagNameLower(t)){case"option":if(t[e]===!0)return u.utils.domData.get(t,u.bindingHandlers.options.optionValueDomDataKey);return u.utils.ieVersion<=7?t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return t.selectedIndex>=0?u.selectExtensions.readValue(t.options[t.selectedIndex]):s;default:return t.value}},writeValue:function(t,n){switch(u.utils.tagNameLower(t)){case"option":switch(typeof n){case"string":u.utils.domData.set(t,u.bindingHandlers.options.optionValueDomDataKey,s),e in t&&delete t[e],t.value=n;break;default:u.utils.domData.set(t,u.bindingHandlers.options.optionValueDomDataKey,n),t[e]=!0,t.value=typeof n=="number"?n:""}break;case"select":for(var r=t.options.length-1;r>=0;r--)if(u.selectExtensions.readValue(t.options[r])==n){t.selectedIndex=r;break}break;default:if(n===null||n===s)n="";t.value=n}}}}(),u.exportSymbol("selectExtensions",u.selectExtensions),u.exportSymbol("selectExtensions.readValue",u.selectExtensions.readValue),u.exportSymbol("selectExtensions.writeValue",u.selectExtensions.writeValue),u.expressionRewriting=function(){function r(t,n){var r=null;while(t!=r)r=t,t=t.replace(e,function(e,t){return n[t]});return t}function i(e){if(u.utils.arrayIndexOf(t,u.utils.stringTrim(e).toLowerCase())>=0)return!1;var r=e.match(n);return r===null?!1:r[1]?"Object("+r[1]+")"+r[2]:e}function s(e){var t=u.utils.stringTrim(e);switch(t.length&&t.charAt(0)){case"'":case'"':return e;default:return"'"+t+"'"}}var e=/\@ko_token_(\d+)\@/g,t=["true","false"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;return{bindingRewriteValidators:[],parseObjectLiteral:function(e){var t=u.utils.stringTrim(e);if(t.length<3)return[];t.charAt(0)==="{"&&(t=t.substring(1,t.length-1));var n=[],i=null,s;for(var o=0;o<t.length;o++){var a=t.charAt(o);if(i===null)switch(a){case'"':case"'":case"/":i=o,s=a}else if(a==s&&t.charAt(o-1)!=="\\"){var f=t.substring(i,o+1);n.push(f);var l="@ko_token_"+(n.length-1)+"@";t=t.substring(0,i)+l+t.substring(o+1),o-=f.length-l.length,i=null}}i=null,s=null;var c=0,h=null;for(var o=0;o<t.length;o++){var a=t.charAt(o);if(i===null)switch(a){case"{":i=o,h=a,s="}";break;case"(":i=o,h=a,s=")";break;case"[":i=o,h=a,s="]"}if(a===h)c++;else if(a===s){c--;if(c===0){var f=t.substring(i,o+1);n.push(f);var l="@ko_token_"+(n.length-1)+"@";t=t.substring(0,i)+l+t.substring(o+1),o-=f.length-l.length,i=null}}}var p=[],d=t.split(",");for(var v=0,m=d.length;v<m;v++){var g=d[v],y=g.indexOf(":");if(y>0&&y<g.length-1){var b=g.substring(0,y),w=g.substring(y+1);p.push({key:r(b,n),value:r(w,n)})}else p.push({unknown:r(g,n)})}return p},preProcessBindings:function(e){var t=typeof e=="string"?u.expressionRewriting.parseObjectLiteral(e):e,n=[],r=[],o;for(var a=0;o=t[a];a++){n.length>0&&n.push(",");if(o.key){var f=s(o.key),l=o.value;n.push(f),n.push(":"),n.push(l);if(l=i(u.utils.stringTrim(l)))r.length>0&&r.push(", "),r.push(f+" : function(__ko_value) { "+l+" = __ko_value; }")}else o.unknown&&n.push(o.unknown)}var c=n.join("");if(r.length>0){var h=r.join("");c=c+", '_ko_property_writers' : { "+h+" } "}return c},keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(u.utils.stringTrim(e[n]["key"])==t)return!0;return!1},writeValueToProperty:function(e,t,n,r,i){if(!e||!u.isWriteableObservable(e)){var s=t()._ko_property_writers;s&&s[n]&&s[n](r)}else(!i||e.peek()!==r)&&e(r)}}}(),u.exportSymbol("expressionRewriting",u.expressionRewriting),u.exportSymbol("expressionRewriting.bindingRewriteValidators",u.expressionRewriting.bindingRewriteValidators),u.exportSymbol("expressionRewriting.parseObjectLiteral",u.expressionRewriting.parseObjectLiteral),u.exportSymbol("expressionRewriting.preProcessBindings",u.expressionRewriting.preProcessBindings),u.exportSymbol("jsonExpressionRewriting",u.expressionRewriting),u.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",u.expressionRewriting.preProcessBindings),function(){function s(n){return n.nodeType==8&&(e?n.text:n.nodeValue).match(t)}function o(t){return t.nodeType==8&&(e?t.text:t.nodeValue).match(r)}function a(e,t){var n=e,r=1,i=[];while(n=n.nextSibling){if(o(n)){r--;if(r===0)return i}i.push(n),s(n)&&r++}if(!t)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function f(e,t){var n=a(e,t);return n?n.length>0?n[n.length-1].nextSibling:e.nextSibling:null}function l(e){var t=e.firstChild,n=null;if(t)do if(n)n.push(t);else if(s(t)){var r=f(t,!0);r?t=r:n=[t]}else o(t)&&(n=[t]);while(t=t.nextSibling);return n}var e=n.createComment("test").text==="<!--test-->",t=e?/^<!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*-->$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,r=e?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,i={ul:!0,ol:!0};u.virtualElements={allowedBindings:{},childNodes:function(e){return s(e)?a(e):e.childNodes},emptyNode:function(e){if(!s(e))u.utils.emptyDomNode(e);else{var t=u.virtualElements.childNodes(e);for(var n=0,r=t.length;n<r;n++)u.removeNode(t[n])}},setDomNodeChildren:function(e,t){if(!s(e))u.utils.setDomNodeChildren(e,t);else{u.virtualElements.emptyNode(e);var n=e.nextSibling;for(var r=0,i=t.length;r<i;r++)n.parentNode.insertBefore(t[r],n)}},prepend:function(e,t){s(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},insertAfter:function(e,t,n){n?s(e)?e.parentNode.insertBefore(t,n.nextSibling):n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):u.virtualElements.prepend(e,t)},firstChild:function(e){return s(e)?!e.nextSibling||o(e.nextSibling)?null:e.nextSibling:e.firstChild},nextSibling:function(e){return s(e)&&(e=f(e)),e.nextSibling&&o(e.nextSibling)?null:e.nextSibling},virtualNodeBindingValue:function(e){var t=s(e);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(!i[u.utils.tagNameLower(e)])return;var t=e.firstChild;if(t)do if(t.nodeType===1){var n=l(t);if(n){var r=t.nextSibling;for(var s=0;s<n.length;s++)r?e.insertBefore(n[s],r):e.appendChild(n[s])}}while(t=t.nextSibling)}}}(),u.exportSymbol("virtualElements",u.virtualElements),u.exportSymbol("virtualElements.allowedBindings",u.virtualElements.allowedBindings),u.exportSymbol("virtualElements.emptyNode",u.virtualElements.emptyNode),u.exportSymbol("virtualElements.insertAfter",u.virtualElements.insertAfter),u.exportSymbol("virtualElements.prepend",u.virtualElements.prepend),u.exportSymbol("virtualElements.setDomNodeChildren",u.virtualElements.setDomNodeChildren),function(){function t(e,t){var r=e;return t[r]||(t[r]=n(e))}function n(e){var t=u.expressionRewriting.preProcessBindings(e),n="with($context){with($data||{}){return{"+t+"}}}";return new Function("$context","$element",n)}var e="data-bind";u.bindingProvider=function(){this.bindingCache={}},u.utils.extend(u.bindingProvider.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute(e)!=null;case 8:return u.virtualElements.virtualNodeBindingValue(t)!=null;default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):null},getBindingsString:function(t,n){switch(t.nodeType){case 1:return t.getAttribute(e);case 8:return u.virtualElements.virtualNodeBindingValue(t);default:return null}},parseBindingsString:function(e,n,r){try{var i=t(e,this.bindingCache);return i(n,r)}catch(s){throw new Error("Unable to parse bindings.\nMessage: "+s+";\nBindings value: "+e)}}}),u.bindingProvider.instance=new u.bindingProvider}(),u.exportSymbol("bindingProvider",u.bindingProvider),function(){function e(e){var t=u.virtualElements.allowedBindings[e];if(!t)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function n(e,t,n){var i,s=u.virtualElements.firstChild(t);while(i=s)s=u.virtualElements.nextSibling(i),r(e,i,n)}function r(e,t,r){var s=!0,o=t.nodeType===1;o&&u.virtualElements.normaliseVirtualElementDomStructure(t);var a=o&&r||u.bindingProvider.instance.nodeHasBindings(t);a&&(s=i(t,null,e,r).shouldBindDescendants),s&&n(e,t,!o)}function i(t,n,r,i){function f(e){return function(){return a[e]}}function l(){return a}var o=0,a,c;return u.dependentObservable(function(){var h=r&&r instanceof u.bindingContext?r:new u.bindingContext(u.utils.unwrapObservable(r)),p=h.$data;i&&u.storedBindingContextForNode(t,h);var d=typeof n=="function"?n(h,t):n;a=d||u.bindingProvider.instance.getBindings(t,h);if(a){if(o===0){o=1;for(var v in a){var m=u.bindingHandlers[v];m&&t.nodeType===8&&e(v);if(m&&typeof m["init"]=="function"){var g=m.init,y=g(t,f(v),l,p,h);if(y&&y.controlsDescendantBindings){if(c!==s)throw new Error("Multiple bindings ("+c+" and "+v+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");c=v}}}o=2}if(o===2)for(var v in a){var m=u.bindingHandlers[v];if(m&&typeof m["update"]=="function"){var b=m.update;b(t,f(v),l,p,h)}}}},null,{disposeWhenNodeIsRemoved:t}),{shouldBindDescendants:c===s}}u.bindingHandlers={},u.bindingContext=function(e,t,n){t?(u.utils.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=e,this.ko=u),this.$data=e,n&&(this[n]=e)},u.bindingContext.prototype.createChildContext=function(e,t){return new u.bindingContext(e,this,t)},u.bindingContext.prototype.extend=function(e){var t=u.utils.extend(new u.bindingContext,this);return u.utils.extend(t,e)};var o="__ko_bindingContext__";u.storedBindingContextForNode=function(e,t){if(arguments.length!=2)return u.utils.domData.get(e,o);u.utils.domData.set(e,o,t)},u.applyBindingsToNode=function(e,t,n){return e.nodeType===1&&u.virtualElements.normaliseVirtualElementDomStructure(e),i(e,t,n,!0)},u.applyBindingsToDescendants=function(e,t){(t.nodeType===1||t.nodeType===8)&&n(e,t,!0)},u.applyBindings=function(e,n){if(n&&n.nodeType!==1&&n.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||t.document.body,r(e,n,!0)},u.contextFor=function(e){switch(e.nodeType){case 1:case 8:var t=u.storedBindingContextForNode(e);if(t)return t;if(e.parentNode)return u.contextFor(e.parentNode)}return s},u.dataFor=function(e){var t=u.contextFor(e);return t?t.$data:s},u.exportSymbol("bindingHandlers",u.bindingHandlers),u.exportSymbol("applyBindings",u.applyBindings),u.exportSymbol("applyBindingsToDescendants",u.applyBindingsToDescendants),u.exportSymbol("applyBindingsToNode",u.applyBindingsToNode),u.exportSymbol("contextFor",u.contextFor),u.exportSymbol("dataFor",u.dataFor)}();var p={"class":"className","for":"htmlFor"};u.bindingHandlers.attr={update:function(e,t,n){var r=u.utils.unwrapObservable(t())||{};for(var i in r)if(typeof i=="string"){var o=u.utils.unwrapObservable(r[i]),a=o===!1||o===null||o===s;a&&e.removeAttribute(i),u.utils.ieVersion<=8&&i in p?(i=p[i],a?e.removeAttribute(i):e[i]=o):a||e.setAttribute(i,o.toString()),i==="name"&&u.utils.setElementName(e,a?"":o.toString())}}},u.bindingHandlers.checked={init:function(e,t,n){var r=function(){var r;if(e.type=="checkbox")r=e.checked;else{if(e.type!="radio"||!e.checked)return;r=e.value}var i=t(),s=u.utils.unwrapObservable(i);if(e.type=="checkbox"&&s instanceof Array){var o=u.utils.arrayIndexOf(s,e.value);e.checked&&o<0?i.push(e.value):!e.checked&&o>=0&&i.splice(o,1)}else u.expressionRewriting.writeValueToProperty(i,n,"checked",r,!0)};u.utils.registerEventHandler(e,"click",r),e.type=="radio"&&!e.name&&u.bindingHandlers.uniqueName.init(e,function(){return!0})},update:function(e,t){var n=u.utils.unwrapObservable(t());e.type=="checkbox"?n instanceof Array?e.checked=u.utils.arrayIndexOf(n,e.value)>=0:e.checked=n:e.type=="radio"&&(e.checked=e.value==n)}};var d="__ko__cssValue";u.bindingHandlers.css={update:function(e,t){var n=u.utils.unwrapObservable(t());if(typeof n=="object")for(var r in n){var i=u.utils.unwrapObservable(n[r]);u.utils.toggleDomNodeCssClass(e,r,i)}else n=String(n||""),u.utils.toggleDomNodeCssClass(e,e[d],!1),e[d]=n,u.utils.toggleDomNodeCssClass(e,n,!0)}},u.bindingHandlers.enable={update:function(e,t){var n=u.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):!n&&!e.disabled&&(e.disabled=!0)}},u.bindingHandlers.disable={update:function(e,t){u.bindingHandlers.enable.update(e,function(){return!u.utils.unwrapObservable(t())})}},u.bindingHandlers.event={init:function(e,t,n,r){var i=t()||{};for(var s in i)(function(){var i=s;typeof i=="string"&&u.utils.registerEventHandler(e,i,function(e){var s,o=t()[i];if(!o)return;var a=n();try{var f=u.utils.makeArray(arguments);f.unshift(r),s=o.apply(r,f)}finally{s!==!0&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}var l=a[i+"Bubble"]!==!1;l||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())})})()}},u.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var t=e(),n=u.utils.peekObservable(t);return!n||typeof n.length=="number"?{foreach:t,templateEngine:u.nativeTemplateEngine.instance}:(u.utils.unwrapObservable(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:u.nativeTemplateEngine.instance})}},init:function(e,t,n,r,i){return u.bindingHandlers.template.init(e,u.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,r,i){return u.bindingHandlers.template.update(e,u.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,r,i)}},u.expressionRewriting.bindingRewriteValidators.foreach=!1,u.virtualElements.allowedBindings.foreach=!0;var m="__ko_hasfocusUpdating";u.bindingHandlers.hasfocus={init:function(e,t,n){var r=function(r){e[m]=!0;var i=e.ownerDocument;"activeElement"in i&&(r=i.activeElement===e);var s=t();u.expressionRewriting.writeValueToProperty(s,n,"hasfocus",r,!0),e[m]=!1},i=r.bind(null,!0),s=r.bind(null,!1);u.utils.registerEventHandler(e,"focus",i),u.utils.registerEventHandler(e,"focusin",i),u.utils.registerEventHandler(e,"blur",s),u.utils.registerEventHandler(e,"focusout",s)},update:function(e,t){var n=u.utils.unwrapObservable(t());e[m]||(n?e.focus():e.blur(),u.dependencyDetection.ignore(u.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},u.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){u.utils.setHtml(e,t())}};var g="__ko_withIfBindingData";y("if"),y("ifnot",!1,!0),y("with",!0,!1,function(e,t){return e.createChildContext(t)}),u.bindingHandlers.options={update:function(e,t,r){if(u.utils.tagNameLower(e)!=="select")throw new Error("options binding applies only to SELECT elements");var i=e.length==0,o=u.utils.arrayMap(u.utils.arrayFilter(e.childNodes,function(e){return e.tagName&&u.utils.tagNameLower(e)==="option"&&e.selected}),function(e){return u.selectExtensions.readValue(e)||e.innerText||e.textContent}),a=e.scrollTop,f=u.utils.unwrapObservable(t()),l=e.value;while(e.length>0)u.cleanNode(e.options[0]),e.remove(0);if(f){var c=r(),h=c.optionsIncludeDestroyed;typeof f.length!="number"&&(f=[f]);if(c.optionsCaption){var p=n.createElement("option");u.utils.setHtml(p,c.optionsCaption),u.selectExtensions.writeValue(p,s),e.appendChild(p)}for(var d=0,v=f.length;d<v;d++){var m=f[d];if(m&&m._destroy&&!h)continue;var p=n.createElement("option");function g(e,t,n){var r=typeof t;return r=="function"?t(e):r=="string"?e[t]:n}var y=g(m,c.optionsValue,m);u.selectExtensions.writeValue(p,u.utils.unwrapObservable(y));var w=g(m,c.optionsText,y);u.utils.setTextContent(p,w),e.appendChild(p)}var E=e.getElementsByTagName("option"),S=0;for(var d=0,v=E.length;d<v;d++)u.utils.arrayIndexOf(o,u.selectExtensions.readValue(E[d]))>=0&&(u.utils.setOptionNodeSelectionState(E[d],!0),S++);e.scrollTop=a,i&&"value"in c&&b(e,u.utils.peekObservable(c.value),!0),u.utils.ensureSelectElementIsRenderedCorrectly(e)}}},u.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__",u.bindingHandlers.selectedOptions={init:function(e,t,n){u.utils.registerEventHandler(e,"change",function(){var r=t(),i=[];u.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&i.push(u.selectExtensions.readValue(e))}),u.expressionRewriting.writeValueToProperty(r,n,"value",i)})},update:function(e,t){if(u.utils.tagNameLower(e)!="select")throw new Error("values binding applies only to SELECT elements");var n=u.utils.unwrapObservable(t());n&&typeof n.length=="number"&&u.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=u.utils.arrayIndexOf(n,u.selectExtensions.readValue(e))>=0;u.utils.setOptionNodeSelectionState(e,t)})}},u.bindingHandlers.style={update:function(e,t){var n=u.utils.unwrapObservable(t()||{});for(var r in n)if(typeof r=="string"){var i=u.utils.unwrapObservable(n[r]);e.style[r]=i||""}}},u.bindingHandlers.submit={init:function(e,t,n,r){if(typeof t()!="function")throw new Error("The value for a submit binding must be a function");u.utils.registerEventHandler(e,"submit",function(n){var i,s=t();try{i=s.call(r,e)}finally{i!==!0&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},u.bindingHandlers.text={update:function(e,t){u.utils.setTextContent(e,t())}},u.virtualElements.allowedBindings.text=!0,u.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++u.bindingHandlers.uniqueName.currentIndex;u.utils.setElementName(e,n)}}},u.bindingHandlers.uniqueName.currentIndex=0,u.bindingHandlers.value={init:function(e,t,n){var r=["change"],i=n().valueUpdate,s=!1;i&&(typeof i=="string"&&(i=[i]),u.utils.arrayPushAll(r,i),r=u.utils.arrayGetDistinctValues(r));var o=function(){s=!1;var r=t(),i=u.selectExtensions.readValue(e);u.expressionRewriting.writeValueToProperty(r,n,"value",i)},a=u.utils.ieVersion&&e.tagName.toLowerCase()=="input"&&e.type=="text"&&e.autocomplete!="off"&&(!e.form||e.form.autocomplete!="off");a&&u.utils.arrayIndexOf(r,"propertychange")==-1&&(u.utils.registerEventHandler(e,"propertychange",function(){s=!0}),u.utils.registerEventHandler(e,"blur",function(){s&&o()})),u.utils.arrayForEach(r,function(t){var n=o;u.utils.stringStartsWith(t,"after")&&(n=function(){setTimeout(o,0)},t=t.substring("after".length)),u.utils.registerEventHandler(e,t,n)})},update:function(e,t){var n=u.utils.tagNameLower(e)==="select",r=u.utils.unwrapObservable(t()),i=u.selectExtensions.readValue(e),s=r!=i;r===0&&i!==0&&i!=="0"&&(s=!0);if(s){var o=function(){u.selectExtensions.writeValue(e,r)};o();var a=n;a&&setTimeout(o,0)}n&&e.length>0&&b(e,r,!1)}},u.bindingHandlers.visible={update:function(e,t){var n=u.utils.unwrapObservable(t()),r=e.style.display!="none";n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},v("click"),u.templateEngine=function(){},u.templateEngine.prototype.renderTemplateSource=function(e,t,n){throw new Error("Override renderTemplateSource")},u.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},u.templateEngine.prototype.makeTemplateSource=function(e,t){if(typeof e=="string"){t=t||n;var r=t.getElementById(e);if(!r)throw new Error("Cannot find template with ID "+e);return new u.templateSources.domElement(r)}if(e.nodeType==1||e.nodeType==8)return new u.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},u.templateEngine.prototype.renderTemplate=function(e,t,n,r){var i=this.makeTemplateSource(e,r);return this.renderTemplateSource(i,t,n)},u.templateEngine.prototype.isTemplateRewritten=function(e,t){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(e,t).data("isRewritten")},u.templateEngine.prototype.rewriteTemplate=function(e,t,n){var r=this.makeTemplateSource(e,n),i=t(r.text());r.text(i),r.data("isRewritten",!0)},u.exportSymbol("templateEngine",u.templateEngine),u.templateRewriting=function(){function n(e){var t=u.expressionRewriting.bindingRewriteValidators;for(var n=0;n<e.length;n++){var r=e[n].key;if(t.hasOwnProperty(r)){var i=t[r];if(typeof i=="function"){var s=i(e[n].value);if(s)throw new Error(s)}else if(!i)throw new Error("This template engine does not support the '"+r+"' binding within its templates")}}}function r(e,t,r){var i=u.expressionRewriting.parseObjectLiteral(e);n(i);var s=u.expressionRewriting.preProcessBindings(i),o="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+s+" } })()})";return r.createJavaScriptEvaluatorBlock(o)+t}var e=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,t=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return u.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(n,i){return n.replace(e,function(){return r(arguments[6],arguments[1],i)}).replace(t,function(){return r(arguments[1],"<!-- ko -->",i)})},applyMemoizedBindingsToNextSibling:function(e){return u.memoization.memoize(function(t,n){t.nextSibling&&u.applyBindingsToNode(t.nextSibling,e,n)})}}}(),u.exportSymbol("__tr_ambtns",u.templateRewriting.applyMemoizedBindingsToNextSibling),function(){u.templateSources={},u.templateSources.domElement=function(e){this.domElement=e},u.templateSources.domElement.prototype.text=function(){var e=u.utils.tagNameLower(this.domElement),t=e==="script"?"text":e==="textarea"?"value":"innerHTML";if(arguments.length==0)return this.domElement[t];var n=arguments[0];t==="innerHTML"?u.utils.setHtml(this.domElement,n):this.domElement[t]=n},u.templateSources.domElement.prototype.data=function(e){if(arguments.length===1)return u.utils.domData.get(this.domElement,"templateSourceData_"+e);u.utils.domData.set(this.domElement,"templateSourceData_"+e,arguments[1])};var e="__ko_anon_template__";u.templateSources.anonymousTemplate=function(e){this.domElement=e},u.templateSources.anonymousTemplate.prototype=new u.templateSources.domElement,u.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var t=u.utils.domData.get(this.domElement,e)||{};return t.textData===s&&t.containerData&&(t.textData=t.containerData.innerHTML),t.textData}var n=arguments[0];u.utils.domData.set(this.domElement,e,{textData:n})},u.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var t=u.utils.domData.get(this.domElement,e)||{};return t.containerData}var n=arguments[0];u.utils.domData.set(this.domElement,e,{containerData:n})},u.exportSymbol("templateSources",u.templateSources),u.exportSymbol("templateSources.domElement",u.templateSources.domElement),u.exportSymbol("templateSources.anonymousTemplate",u.templateSources.anonymousTemplate)}(),function(){function t(e,t,n){var r,i=e,s=u.virtualElements.nextSibling(t);while(i&&(r=i)!==s)i=u.virtualElements.nextSibling(r),(r.nodeType===1||r.nodeType===8)&&n(r)}function n(e,n){if(e.length){var r=e[0],i=e[e.length-1];t(r,i,function(e){u.applyBindings(n,e)}),t(r,i,function(e){u.memoization.unmemoizeDomNodeAndDescendants(e,[n])})}}function r(e){return e.nodeType?e:e.length>0?e[0]:null}function i(t,i,s,o,a){a=a||{};var f=t&&r(t),l=f&&f.ownerDocument,c=a.templateEngine||e;u.templateRewriting.ensureTemplateIsRewritten(s,c,l);var h=c.renderTemplate(s,o,a,l);if(typeof h.length!="number"||h.length>0&&typeof h[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");var p=!1;switch(i){case"replaceChildren":u.virtualElements.setDomNodeChildren(t,h),p=!0;break;case"replaceNode":u.utils.replaceDomNodes(t,h),p=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+i)}return p&&(n(h,o),a.afterRender&&u.dependencyDetection.ignore(a.afterRender,null,[h,o.$data])),h}function a(e,t){var n=u.utils.domData.get(e,o);n&&typeof n.dispose=="function"&&n.dispose(),u.utils.domData.set(e,o,t&&t.isActive()?t:s)}var e;u.setTemplateEngine=function(t){if(!(t==s||t instanceof u.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");e=t},u.renderTemplate=function(t,n,o,a,f){o=o||{};if((o["templateEngine"]||e)==s)throw new Error("Set a template engine before calling renderTemplate");f=f||"replaceChildren";if(a){var l=r(a),c=function(){return!l||!u.utils.domNodeIsAttachedToDocument(l)},h=l&&f=="replaceNode"?l.parentNode:l;return u.dependentObservable(function(){var e=n&&n instanceof u.bindingContext?n:new u.bindingContext(u.utils.unwrapObservable(n)),s=typeof t=="function"?t(e.$data,e):t,c=i(a,f,s,e,o);f=="replaceNode"&&(a=c,l=r(a))},null,{disposeWhen:c,disposeWhenNodeIsRemoved:h})}return u.memoization.memoize(function(e){u.renderTemplate(t,n,o,e,"replaceNode")})},u.renderTemplateForEach=function(e,t,r,o,a){var f,l=function(t,n){f=a.createChildContext(u.utils.unwrapObservable(t),r.as),f.$index=n;var s=typeof e=="function"?e(t,f):e;return i(null,"ignoreTargetNode",s,f,r)},c=function(e,t,i){n(t,f),r.afterRender&&r.afterRender(t,e)};return u.dependentObservable(function(){var e=u.utils.unwrapObservable(t)||[];typeof e.length=="undefined"&&(e=[e]);var n=u.utils.arrayFilter(e,function(e){return r.includeDestroyed||e===s||e===null||!u.utils.unwrapObservable(e._destroy)});u.dependencyDetection.ignore(u.utils.setDomNodeChildrenFromArrayMapping,null,[o,n,l,r,c])},null,{disposeWhenNodeIsRemoved:o})};var o="__ko__templateComputedDomDataKey__";u.bindingHandlers.template={init:function(e,t){var n=u.utils.unwrapObservable(t());if(typeof n!="string"&&!n.name&&(e.nodeType==1||e.nodeType==8)){var r=e.nodeType==1?e.childNodes:u.virtualElements.childNodes(e),i=u.utils.moveCleanedNodesToContainerElement(r);(new u.templateSources.anonymousTemplate(e)).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,n,r,i){var s=u.utils.unwrapObservable(t()),o={},f=!0,l,c=null;typeof s!="string"&&(o=s,s=o.name,"if"in o&&(f=u.utils.unwrapObservable(o["if"])),f&&"ifnot"in o&&(f=!u.utils.unwrapObservable(o.ifnot)),l=u.utils.unwrapObservable(o.data));if("foreach"in o){var h=f&&o.foreach||[];c=u.renderTemplateForEach(s||e,h,o,e,i)}else if(!f)u.virtualElements.emptyNode(e);else{var p="data"in o?i.createChildContext(l,o.as):i;c=u.renderTemplate(s||e,p,o,e)}a(e,c)}},u.expressionRewriting.bindingRewriteValidators.template=function(e){var t=u.expressionRewriting.parseObjectLiteral(e);return t.length==1&&t[0].unknown?null:u.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},u.virtualElements.allowedBindings.template=!0}(),u.exportSymbol("setTemplateEngine",u.setTemplateEngine),u.exportSymbol("renderTemplate",u.renderTemplate),u.utils.compareArrays=function(){function n(n,i,s){return n=n||[],i=i||[],n.length<=i.length?r(n,i,e,t,s):r(i,n,t,e,s)}function r(e,t,n,r,i){var s=Math.min,o=Math.max,u=[],a,f=e.length,l,c=t.length,h=c-f||1,p=f+c+1,d,v,m,g;for(a=0;a<=f;a++){v=d,u.push(d=[]),m=s(c,a+h),g=o(0,a-1);for(l=g;l<=m;l++)if(!l)d[l]=a+1;else if(!a)d[l]=l+1;else if(e[a-1]===t[l-1])d[l]=v[l-1];else{var y=v[l]||p,b=d[l-1]||p;d[l]=s(y,b)+1}}var w=[],E,S=[],x=[];for(a=f,l=c;a||l;)E=u[a][l]-1,l&&E===u[a][l-1]?S.push(w[w.length]={status:n,value:t[--l],index:l}):a&&E===u[a-1][l]?x.push(w[w.length]={status:r,value:e[--a],index:a}):(w.push({status:"retained",value:t[--l]}),--a);if(S.length&&x.length){var T=f*10,N,C,k,L,A;for(N=C=0;(i||N<T)&&(L=S[C]);C++){for(k=0;A=x[k];k++)if(L.value===A.value){L.moved=A.index,A.moved=L.index,x.splice(k,1),N=k=0;break}N+=k}}return w.reverse()}var e="added",t="deleted";return n}(),u.exportSymbol("utils.compareArrays",u.utils.compareArrays),function(){function e(e){while(e.length&&!u.utils.domNodeIsAttachedToDocument(e[0]))e.splice(0,1);if(e.length>1){var t=e[0],n=e[e.length-1],r=[t];while(t!==n){t=t.nextSibling;if(!t)return;r.push(t)}Array.prototype.splice.apply(e,[0,e.length].concat(r))}return e}function t(t,n,r,i,o){var a=[],f=u.dependentObservable(function(){var t=n(r,o)||[];a.length>0&&(u.utils.replaceDomNodes(e(a),t),i&&u.dependencyDetection.ignore(i,null,[r,t,o])),a.splice(0,a.length),u.utils.arrayPushAll(a,t)},null,{disposeWhenNodeIsRemoved:t,disposeWhen:function(){return a.length==0||!u.utils.domNodeIsAttachedToDocument(a[0])}});return{mappedNodes:a,dependentObservable:f.isActive()?f:s}}var n="setDomNodeChildrenFromArrayMapping_lastMappingResult";u.utils.setDomNodeChildrenFromArrayMapping=function(r,i,o,a,f){function x(t,n){S=c[n],m!==n&&(w[t]=S),S.indexObservable(m++),e(S.mappedNodes),d.push(S),y.push(S)}function T(e,t){if(e)for(var n=0,r=t.length;n<r;n++)t[n]&&u.utils.arrayForEach(t[n].mappedNodes,function(r){e(r,n,t[n].arrayEntry)})}i=i||[],a=a||{};var l=u.utils.domData.get(r,n)===s,c=u.utils.domData.get(r,n)||[],h=u.utils.arrayMap(c,function(e){return e.arrayEntry}),p=u.utils.compareArrays(h,i),d=[],v=0,m=0,g=[],y=[],b=[],w=[],E=[],S;for(var N=0,C,k;C=p[N];N++){k=C.moved;switch(C.status){case"deleted":k===s&&(S=c[v],S.dependentObservable&&S.dependentObservable.dispose(),g.push.apply(g,e(S.mappedNodes)),a.beforeRemove&&(b[N]=S,y.push(S))),v++;break;case"retained":x(N,v++);break;case"added":k!==s?x(N,k):(S={arrayEntry:C.value,indexObservable:u.observable(m++)},d.push(S),y.push(S),l||(E[N]=S))}}T(a.beforeMove,w),u.utils.arrayForEach(g,a.beforeRemove?u.cleanNode:u.removeNode);for(var N=0,L=u.virtualElements.firstChild(r),A,O;S=y[N];N++){S.mappedNodes||u.utils.extend(S,t(r,o,S.arrayEntry,f,S.indexObservable));for(var M=0;O=S.mappedNodes[M];L=O.nextSibling,A=O,M++)O!==L&&u.virtualElements.insertAfter(r,O,A);!S.initialized&&f&&(f(S.arrayEntry,S.mappedNodes,S.indexObservable),S.initialized=!0)}T(a.beforeRemove,b),T(a.afterMove,w),T(a.afterAdd,E),u.utils.domData.set(r,n,d)}}(),u.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",u.utils.setDomNodeChildrenFromArrayMapping),u.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},u.nativeTemplateEngine.prototype=new u.templateEngine,u.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n){var r=!(u.utils.ieVersion<9),i=r?e.nodes:null,s=i?e.nodes():null;if(s)return u.utils.makeArray(s.cloneNode(!0).childNodes);var o=e.text();return u.utils.parseHtmlFragment(o)},u.nativeTemplateEngine.instance=new u.nativeTemplateEngine,u.setTemplateEngine(u.nativeTemplateEngine.instance),u.exportSymbol("nativeTemplateEngine",u.nativeTemplateEngine),function(){u.jqueryTmplTemplateEngine=function(){function t(){if(e<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function r(e,t,n){return i.tmpl(e,t,n)}var e=this.jQueryTmplVersion=function(){if(typeof i=="undefined"||!i.tmpl)return 0;try{if(i.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,s,o){o=o||{},t();var u=e.data("precompiled");if(!u){var a=e.text()||"";a="{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}",u=i.template(null,a),e.data("precompiled",u)}var f=[s.$data],l=i.extend({koBindingContext:s},o.templateOptions),c=r(u,f,l);return c.appendTo(n.createElement("div")),i.fragments={},c},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){n.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},e>0&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},u.jqueryTmplTemplateEngine.prototype=new u.templateEngine;var e=new u.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&u.setTemplateEngine(e),u.exportSymbol("jqueryTmplTemplateEngine",u.jqueryTmplTemplateEngine)}()})})(window,document,navigator,window.jQuery)}(),define("knockout",["knockout/knockout"],function(e){return e}),function(e){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?e(require("knockout"),exports):typeof define=="function"&&define.amd?define("knockout.mapping/knockout.mapping",["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,t){function h(e,t){var n={};for(var r=e.length-1;r>=0;--r)n[e[r]]=e[r];for(var r=t.length-1;r>=0;--r)n[t[r]]=t[r];var i=[];for(var s in n)i.push(n[s]);return i}function p(e,n){for(var r in n)if(n.hasOwnProperty(r)&&n[r])if(r&&e[r]&&t.getType(e[r])!=="array")p(e[r],n[r]);else{var i=t.getType(e[r])==="array"&&t.getType(n[r])==="array";i?e[r]=h(e[r],n[r]):e[r]=n[r]}}function d(e,t){var n={};return p(n,e),p(n,t),n}function v(e,t){var n=d({},e);for(var r=a.length-1;r>=0;r--){var i=a[r];if(!n[i])continue;n[""]instanceof Object||(n[""]={}),n[""][i]=n[i],delete n[i]}return t&&(n.ignore=m(t.ignore,n.ignore),n.include=m(t.include,n.include),n.copy=m(t.copy,n.copy)),n.ignore=m(n.ignore,c.ignore),n.include=m(n.include,c.include),n.copy=m(n.copy,c.copy),n.mappedProperties=n.mappedProperties||{},n}function m(n,r){return t.getType(n)!=="array"&&(t.getType(n)==="undefined"?n=[]:n=[n]),t.getType(r)!=="array"&&(t.getType(r)==="undefined"?r=[]:r=[r]),e.utils.arrayGetDistinctValues(n.concat(r))}function g(t,r){var s=e.dependentObservable;e.dependentObservable=function(r,s,o){o=o||{},r&&typeof r=="object"&&(o=r);var u=o.deferEvaluation,a=!1,f=function(r){var s=e.dependentObservable;e.dependentObservable=i;var o=e.isWriteableObservable(r);e.dependentObservable=s;var u=i({read:function(){return a||(e.utils.arrayRemoveItem(t,r),a=!0),r.apply(r,arguments)},write:o&&function(e){return r(e)},deferEvaluation:!0});return n&&(u._wrapper=!0),u};o.deferEvaluation=!0;var l=new i(r,s,o);return u||(l=f(l),t.push(l)),l},e.dependentObservable.fn=i.fn,e.computed=e.dependentObservable;var o=r();return e.dependentObservable=s,e.computed=e.dependentObservable,o}function y(n,i,s,a,l,c,h){var p=t.getType(e.utils.unwrapObservable(i))==="array";c=c||"";if(t.isMapped(n)){var v=e.utils.unwrapObservable(n)[r];s=d(v,s)}var m={data:i,parent:h},w=function(){return s[a]&&s[a].create instanceof Function},N=function(t){return g(o,function(){return e.utils.unwrapObservable(l)instanceof Array?s[a].create({data:t||m.data,parent:m.parent,skip:f}):s[a].create({data:t||m.data,parent:m.parent})})},C=function(){return s[a]&&s[a].update instanceof Function},k=function(t,n){var r={data:n||m.data,parent:m.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(r.observable=t),s[a].update(r)},L=u.get(i);if(L)return L;a=a||"";if(!p)if(!T(i))switch(t.getType(i)){case"function":C()?e.isWriteableObservable(i)?(i(k(i)),n=i):n=k(i):n=i;break;default:if(e.isWriteableObservable(n)){if(C()){var A=k(n);return n(A),A}var A=e.utils.unwrapObservable(i);return n(A),A}return w()?(n=N(),n):(n=e.observable(e.utils.unwrapObservable(i)),n)}else{n=e.utils.unwrapObservable(n);if(!n){if(w()){var O=N();return C()&&(O=k(O)),O}if(C())return k(O);n={}}C()&&(n=k(n)),u.save(i,n);if(C())return n;x(i,function(t){var r=c.length?c+"."+t:t;if(e.utils.arrayIndexOf(s.ignore,r)!=-1)return;if(e.utils.arrayIndexOf(s.copy,r)!=-1){n[t]=i[t];return}var o=u.get(i[t]),a=y(n[t],i[t],s,t,n,r,n),f=o||a;e.isWriteableObservable(n[t])?n[t](e.utils.unwrapObservable(f)):n[t]=f,s.mappedProperties[r]=!0})}else{var M=[],_=!1,D=function(e){return e};s[a]&&s[a].key&&(D=s[a].key,_=!0),e.isObservable(n)||(n=e.observableArray([]),n.mappedRemove=function(e){var t=typeof e=="function"?e:function(t){return t===D(e)};return n.remove(function(e){return t(D(e))})},n.mappedRemoveAll=function(t){var r=S(t,D);return n.remove(function(t){return e.utils.arrayIndexOf(r,D(t))!=-1})},n.mappedDestroy=function(e){var t=typeof e=="function"?e:function(t){return t===D(e)};return n.destroy(function(e){return t(D(e))})},n.mappedDestroyAll=function(t){var r=S(t,D);return n.destroy(function(t){return e.utils.arrayIndexOf(r,D(t))!=-1})},n.mappedIndexOf=function(t){var r=S(n(),D),i=D(t);return e.utils.arrayIndexOf(r,i)},n.mappedCreate=function(t){if(n.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");var r=w()?N(t):t;if(C()){var i=k(r,t);e.isWriteableObservable(r)?r(i):r=i}return n.push(r),r});var P=S(e.utils.unwrapObservable(n),D).sort(),H=S(i,D);_&&H.sort();var B=e.utils.compareArrays(P,H),j={},F,I,q=e.utils.unwrapObservable(i),R={},U=!0;for(F=0,I=q.length;F<I;F++){var z=D(q[F]);if(z===undefined||z instanceof Object){U=!1;break}R[z]=q[F]}var W=[],X=0;for(F=0,I=B.length;F<I;F++){var z=B[F],V,$=c+"["+F+"]";switch(z.status){case"added":var J=U?R[z.value]:E(e.utils.unwrapObservable(i),z.value,D);V=y(undefined,J,s,a,n,$,l),w()||(V=e.utils.unwrapObservable(V));var K=b(e.utils.unwrapObservable(i),J,j);V===f?X++:W[K-X]=V,j[K]=!0;break;case"retained":var J=U?R[z.value]:E(e.utils.unwrapObservable(i),z.value,D);V=E(n,z.value,D),y(V,J,s,a,n,$,l);var K=b(e.utils.unwrapObservable(i),J,j);W[K]=V,j[K]=!0;break;case"deleted":V=E(n,z.value,D)}M.push({event:z.status,item:V})}n(W),s[a]&&s[a].arrayChanged&&e.utils.arrayForEach(M,function(e){s[a].arrayChanged(e.event,e.item)})}return n}function b(e,t,n){for(var r=0,i=e.length;r<i;r++){if(n[r]===!0)continue;if(e[r]===t)return r}return null}function w(n,r){var i;return r&&(i=r(n)),t.getType(i)==="undefined"&&(i=n),e.utils.unwrapObservable(i)}function E(t,n,r){t=e.utils.unwrapObservable(t);for(var i=0,s=t.length;i<s;i++){var o=t[i];if(w(o,r)===n)return o}throw new Error("When calling ko.update*, the key '"+n+"' was not found!")}function S(t,n){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return n?w(e,n):e})}function x(e,n){if(t.getType(e)==="array")for(var r=0;r<e.length;r++)n(r);else for(var i in e)n(i)}function T(e){var n=t.getType(e);return(n==="object"||n==="array")&&e!==null}function N(e,n,r){var i=e||"";return t.getType(n)==="array"?e&&(i+="["+r+"]"):(e&&(i+="."),i+=r),i}function C(){var t=[],n=[];this.save=function(r,i){var s=e.utils.arrayIndexOf(t,r);s>=0?n[s]=i:(t.push(r),n.push(i))},this.get=function(r){var i=e.utils.arrayIndexOf(t,r),s=i>=0?n[i]:undefined;return s}}function k(){var e={},t=function(t){var n;try{n=t}catch(r){n="$$$"}var i=e[n];return i===undefined&&(i=new C,e[n]=i),i};this.save=function(e,n){t(e).save(e,n)},this.get=function(e){return t(e).get(e)}}var n=!0,r="__ko_mapping__",i=e.dependentObservable,s=0,o,u,a=["create","update","key","arrayChanged"],f={},l={include:["_destroy"],ignore:[],copy:[]},c=l;t.isMapped=function(t){var n=e.utils.unwrapObservable(t);return n&&n[r]},t.fromJS=function(e){if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){s=0},0),s++||(o=[],u=new k);var t,n;arguments.length==2&&(arguments[1][r]?n=arguments[1]:t=arguments[1]),arguments.length==3&&(t=arguments[1],n=arguments[2]),n&&(t=d(t,n[r])),t=v(t);var i=y(n,e,t);return n&&(i=n),--s||window.setTimeout(function(){while(o.length){var e=o.pop();e&&e()}},0),i[r]=d(i[r],t),i},t.fromJSON=function(n){var r=e.utils.parseJson(n);return arguments[0]=r,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(n,i){c||t.resetDefaultOptions();if(arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(t.getType(c.ignore)!=="array")throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(t.getType(c.include)!=="array")throw new Error("ko.mapping.defaultOptions().include should be an array.");if(t.getType(c.copy)!=="array")throw new Error("ko.mapping.defaultOptions().copy should be an array.");return i=v(i,n[r]),t.visitModel(n,function(t){return e.utils.unwrapObservable(t)},i)},t.toJSON=function(n,r){var i=t.toJS(n,r);return e.utils.stringifyJson(i)},t.defaultOptions=function(){if(!(arguments.length>0))return c;c=arguments[0]},t.resetDefaultOptions=function(){c={include:l.include.slice(0),ignore:l.ignore.slice(0),copy:l.copy.slice(0)}},t.getType=function(e){if(e&&typeof e=="object"){if(e.constructor==(new Date).constructor)return"date";if(Object.prototype.toString.call(e)==="[object Array]")return"array"}return typeof e},t.visitModel=function(n,i,s){s=s||{},s.visitedObjects=s.visitedObjects||new k;var o,u=e.utils.unwrapObservable(n);if(!T(u))return i(n,s.parentName);s=v(s,u[r]),i(n,s.parentName),o=t.getType(u)==="array"?[]:{},s.visitedObjects.save(n,o);var a=s.parentName;return x(u,function(n){if(s.ignore&&e.utils.arrayIndexOf(s.ignore,n)!=-1)return;var f=u[n];s.parentName=N(a,u,n);if(e.utils.arrayIndexOf(s.copy,n)===-1&&e.utils.arrayIndexOf(s.include,n)===-1&&u[r]&&u[r].mappedProperties&&!u[r].mappedProperties[n]&&t.getType(u)!=="array")return;var l;switch(t.getType(e.utils.unwrapObservable(f))){case"object":case"array":case"undefined":var c=s.visitedObjects.get(f);o[n]=t.getType(c)!=="undefined"?c:t.visitModel(f,i,s);break;default:o[n]=i(f,s.parentName)}}),o}}),define("knockout.mapping",["knockout.mapping/knockout.mapping"],function(e){return e}),function(){function u(){try{return r in t&&t[r]}catch(e){return!1}}function a(){try{return i in t&&t[i]&&t[i][t.location.hostname]}catch(e){return!1}}var e={},t=window,n=t.document,r="localStorage",i="globalStorage",s="__storejs__",o;e.disabled=!1,e.set=function(e,t){},e.get=function(e){},e.remove=function(e){},e.clear=function(){},e.transact=function(t,n,r){var i=e.get(t);r==null&&(r=n,n=null),typeof i=="undefined"&&(i=n||{}),r(i),e.set(t,i)},e.getAll=function(){},e.serialize=function(e){return JSON.stringify(e)},e.deserialize=function(e){return typeof e!="string"?undefined:JSON.parse(e)};if(u())o=t[r],e.set=function(t,n){if(n===undefined)return e.remove(t);o.setItem(t,e.serialize(n))},e.get=function(t){return e.deserialize(o.getItem(t))},e.remove=function(e){o.removeItem(e)},e.clear=function(){o.clear()},e.getAll=function(){var t={};for(var n=0;n<o.length;++n){var r=o.key(n);t[r]=e.get(r)}return t};else if(a())o=t[i][t.location.hostname],e.set=function(t,n){if(n===undefined)return e.remove(t);o[t]=e.serialize(n)},e.get=function(t){return e.deserialize(o[t]&&o[t].value)},e.remove=function(e){delete o[e]},e.clear=function(){for(var e in o)delete o[e]},e.getAll=function(){var t={};for(var n=0;n<o.length;++n){var r=o.key(n);t[r]=e.get(r)}return t};else if(n.documentElement.addBehavior){var f,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write('<script>document.w=window</script><iframe src="/favicon.ico"></frame>'),l.close(),f=l.w.frames[0].document,o=f.createElement("div")}catch(c){o=n.createElement("div"),f=n.body}function h(t){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(o),f.appendChild(o),o.addBehavior("#default#userData"),o.load(r);var i=t.apply(e,n);return f.removeChild(o),i}}var p=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function d(e){return e.replace(p,"___")}e.set=h(function(t,n,i){n=d(n);if(i===undefined)return e.remove(n);t.setAttribute(n,e.serialize(i)),t.save(r)}),e.get=h(function(t,n){return n=d(n),e.deserialize(t.getAttribute(n))}),e.remove=h(function(e,t){t=d(t),e.removeAttribute(t),e.save(r)}),e.clear=h(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(r);for(var n=0,i;i=t[n];n++)e.removeAttribute(i.name);e.save(r)}),e.getAll=h(function(t){var n=t.XMLDocument.documentElement.attributes;t.load(r);var i={};for(var s=0,o;o=n[s];++s)i[o]=e.get(o);return i})}try{e.set(s,s),e.get(s)!=s&&(e.disabled=!0),e.remove(s)}catch(c){e.disabled=!0}e.enabled=!e.disabled,typeof module!="undefined"&&typeof module!="function"?module.exports=e:typeof define=="function"&&define.amd?define("store/store",e):this.store=e}(),define("store",["store/store"],function(e){return e});var extender=function(e,t){e.extenders.store=function(e,n){e(t.get(n)),e.subscribe(function(e){t.set(n,e)})}};window.define!==void 0?define("ko.extenders.store",["knockout","store"],extender):extender(ko,store),define("ko.extenders.store/ko.extenders.store",function(){}),function(e){function O(e,t,n,r){var i=n.lang();return i[e].call?i[e](n,r):i[e][t]}function M(e,t){return function(n){return B(e.call(this,n),t)}}function _(e){return function(t){var n=e.call(this,t);return n+this.lang().ordinal(n)}}function D(e,t,n){this._d=e,this._isUTC=!!t,this._a=e._a||null,this._lang=n||!1}function P(e){var t=this._data={},n=e.years||e.y||0,r=e.months||e.M||0,i=e.weeks||e.w||0,s=e.days||e.d||0,o=e.hours||e.h||0,u=e.minutes||e.m||0,a=e.seconds||e.s||0,f=e.milliseconds||e.ms||0;this._milliseconds=f+a*1e3+u*6e4+o*36e5,this._days=s+i*7,this._months=r+n*12,t.milliseconds=f%1e3,a+=H(f/1e3),t.seconds=a%60,u+=H(a/60),t.minutes=u%60,o+=H(u/60),t.hours=o%24,s+=H(o/24),s+=i*7,t.days=s%30,r+=H(s/30),t.months=r%12,n+=H(r/12),t.years=n,this._lang=!1}function H(e){return e<0?Math.ceil(e):Math.floor(e)}function B(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function j(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function F(e){return Object.prototype.toString.call(e)==="[object Array]"}function I(e,t){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function q(e,t,n,r){var i,s,o=[];for(i=0;i<7;i++)o[i]=e[i]=e[i]==null?i===2?1:0:e[i];return e[7]=o[7]=t,e[8]!=null&&(o[8]=e[8]),e[3]+=n||0,e[4]+=r||0,s=new Date(0),t?(s.setUTCFullYear(e[0],e[1],e[2]),s.setUTCHours(e[3],e[4],e[5],e[6])):(s.setFullYear(e[0],e[1],e[2]),s.setHours(e[3],e[4],e[5],e[6])),s._a=o,s}function R(e,n){var r,i,o=[];!n&&u&&(n=require("./lang/"+e));for(r=0;r<a.length;r++)n[a[r]]=n[a[r]]||s.en[a[r]];for(r=0;r<12;r++)i=t([2e3,r]),o[r]=new RegExp("^"+(n.months[r]||n.months(i,""))+"|^"+(n.monthsShort[r]||n.monthsShort(i,"")).replace(".",""),"i");return n.monthsParse=n.monthsParse||o,s[e]=n,n}function U(e){var n=typeof e=="string"&&e||e&&e._lang||null;return n?s[n]||R(n):t}function z(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t=e.match(l),n,r;for(n=0,r=t.length;n<r;n++)A[t[n]]?t[n]=A[t[n]]:t[n]=z(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=typeof t[n].call=="function"?t[n].call(i,e):t[n];return s}}function X(e,t){function r(t){return e.lang().longDateFormat[t]||t}var n=5;while(n--&&c.test(t))t=t.replace(c,r);return C[t]||(C[t]=W(t)),C[t](e)}function V(e){switch(e){case"DDDD":return v;case"YYYY":return m;case"S":case"SS":case"SSS":case"DDD":return d;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return g;case"Z":case"ZZ":return y;case"T":return b;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(e.replace("\\",""))}}function $(e,t,n,r){var i,s;switch(e){case"M":case"MM":n[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":for(i=0;i<12;i++)if(U().monthsParse[i].test(t)){n[1]=i,s=!0;break}s||(n[8]=!1);break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(n[2]=~~t);break;case"YY":n[0]=~~t+(~~t>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(t);break;case"a":case"A":r.isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":n[3]=~~t;break;case"m":case"mm":n[4]=~~t;break;case"s":case"ss":n[5]=~~t;break;case"S":case"SS":case"SSS":n[6]=~~(("0."+t)*1e3);break;case"Z":case"ZZ":r.isUTC=!0,i=(t+"").match(x),i&&i[1]&&(r.tzh=~~i[1]),i&&i[2]&&(r.tzm=~~i[2]),i&&i[0]==="+"&&(r.tzh=-r.tzh,r.tzm=-r.tzm)}t==null&&(n[8]=!1)}function J(e,t){var n=[0,0,1,0,0,0,0],r={tzh:0,tzm:0},i=t.match(l),s,o;for(s=0;s<i.length;s++)o=(V(i[s]).exec(e)||[])[0],o&&(e=e.slice(e.indexOf(o)+o.length)),A[i[s]]&&$(i[s],o,n,r);return r.isPm&&n[3]<12&&(n[3]+=12),r.isPm===!1&&n[3]===12&&(n[3]=0),q(n,r.isUTC,r.tzh,r.tzm)}function K(e,t){var n,r=e.match(h)||[],i,s=99,o,u,a;for(o=0;o<t.length;o++)u=J(e,t[o]),i=X(new D(u),t[o]).match(h)||[],a=I(r,i),a<s&&(s=a,n=u);return n}function Q(e){var t="YYYY-MM-DDT",n;if(w.exec(e)){for(n=0;n<4;n++)if(S[n][1].exec(e)){t+=S[n][0];break}return y.exec(e)?J(e,t+" Z"):J(e,t)}return new Date(e)}function G(e,t,n,r,i){var s=i.relativeTime[e];return typeof s=="function"?s(t||1,!!n,e,r):s.replace(/%d/i,t||1)}function Y(e,t,n){var i=r(Math.abs(e)/1e3),s=r(i/60),o=r(s/60),u=r(o/24),a=r(u/365),f=i<45&&["s",i]||s===1&&["m"]||s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",r(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,G.apply({},f)}function Z(e,n){t.fn[e]=function(e){var t=this._isUTC?"UTC":"";return e!=null?(this._d["set"+t+n](e),this):this._d["get"+t+n]()}}function et(e){t.duration.fn[e]=function(){return this._data[e]}}function tt(e,n){t.duration.fn["as"+e]=function(){return+this/n}}var t,n="1.7.2",r=Math.round,i,s={},o="en",u=typeof module!="undefined"&&module.exports,a="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),f=/^\/?Date\((\-?\d+)/i,l=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,c=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,h=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,p=/\d\d?/,d=/\d{1,3}/,v=/\d{3}/,m=/\d{1,4}/,g=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,y=/Z|[\+\-]\d\d:?\d\d/i,b=/T/i,w=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E="YYYY-MM-DDTHH:mm:ssZ",S=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],x=/([\+\-]|\d\d)/gi,T="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),N={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},C={},k="DDD w M D d".split(" "),L="M D H h m s w".split(" "),A={M:function(){return this.month()+1},MMM:function(e){return O("monthsShort",this.month(),this,e)},MMMM:function(e){return O("months",this.month(),this,e)},D:function(){return this.date()},DDD:function(){var e=new Date(this.year(),this.month(),this.date()),t=new Date(this.year(),0,1);return~~((e-t)/864e5+1.5)},d:function(){return this.day()},dd:function(e){return O("weekdaysMin",this.day(),this,e)},ddd:function(e){return O("weekdaysShort",this.day(),this,e)},dddd:function(e){return O("weekdays",this.day(),this,e)},w:function(){var e=new Date(this.year(),this.month(),this.date()-this.day()+5),t=new Date(e.getFullYear(),0,4);return~~((e-t)/864e5/7+1.5)},YY:function(){return B(this.year()%100,2)},YYYY:function(){return B(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return B(~~(this.milliseconds()/10),2)},SSS:function(){return B(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+B(~~(e/60),2)+":"+B(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+B(~~(10*e/6),4)}};while(k.length)i=k.pop(),A[i+"o"]=_(A[i]);while(L.length)i=L.pop(),A[i+i]=M(A[i],2);A.DDDD=M(A.DDD,3),t=function(n,r){if(n===null||n==="")return null;var i,s;return t.isMoment(n)?new D(new Date(+n._d),n._isUTC,n._lang):(r?F(r)?i=K(n,r):i=J(n,r):(s=f.exec(n),i=n===e?new Date:s?new Date(+s[1]):n instanceof Date?n:F(n)?q(n):typeof n=="string"?Q(n):new Date(n)),new D(i))},t.utc=function(e,n){return F(e)?new D(q(e,!0),!0):(typeof e=="string"&&!y.exec(e)&&(e+=" +0000",n&&(n+=" Z")),t(e,n).utc())},t.unix=function(e){return t(e*1e3)},t.duration=function(e,n){var r=t.isDuration(e),i=typeof e=="number",s=r?e._data:i?{}:e,o;return i&&(n?s[n]=e:s.milliseconds=e),o=new P(s),r&&(o._lang=e._lang),o},t.humanizeDuration=function(e,n,r){return t.duration(e,n===!0?null:n).humanize(n===!0?!0:r)},t.version=n,t.defaultFormat=E,t.lang=function(e,n){var r;if(!e)return o;(n||!s[e])&&R(e,n);if(s[e]){for(r=0;r<a.length;r++)t[a[r]]=s[e][a[r]];t.monthsParse=s[e].monthsParse,o=e}},t.langData=U,t.isMoment=function(e){return e instanceof D},t.isDuration=function(e){return e instanceof P},t.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"}}),t.fn=D.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?this._a[8]!=null?!!this._a[8]:!I(this._a,(this._a[7]?t.utc(this._a):t(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){return X(this,e?e:t.defaultFormat)},add:function(e,n){var r=n?t.duration(+n,e):t.duration(e);return j(this,r,1),this},subtract:function(e,n){var r=n?t.duration(+n,e):t.duration(e);return j(this,r,-1),this},diff:function(e,n,i){var s=this._isUTC?t(e).utc():t(e).local(),o=(this.zone()-s.zone())*6e4,u=this._d-s._d-o,a=this.year()-s.year(),f=this.month()-s.month(),l=this.date()-s.date(),c;return n==="months"?c=a*12+f+l/30:n==="years"?c=a+(f+l/30)/12:c=n==="seconds"?u/1e3:n==="minutes"?u/6e4:n==="hours"?u/36e5:n==="days"?u/864e5:n==="weeks"?u/6048e5:u,i?c:r(c)},from:function(e,n){return t.duration(this.diff(e)).lang(this._lang).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=this.diff(t().sod(),"days",!0),n=this.lang().calendar,r=n.sameElse,i=e<-6?r:e<-1?n.lastWeek:e<0?n.lastDay:e<1?n.sameDay:e<2?n.nextDay:e<7?n.nextWeek:r;return this.format(typeof i=="function"?i.apply(this):i)},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<t([this.year()]).zone()||this.zone()<t([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){switch(e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},lang:function(t){return t===e?U(this):(this._lang=t,this)}};for(i=0;i<T.length;i++)Z(T[i].toLowerCase(),T[i]);Z("year","FullYear"),t.duration.fn=P.prototype={weeks:function(){return H(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=this.lang().relativeTime,r=Y(t,!e,this.lang()),i=t<=0?n.past:n.future;return e&&(typeof i=="function"?r=i(r):r=i.replace(/%s/i,r)),r},lang:t.fn.lang};for(i in N)N.hasOwnProperty(i)&&(tt(i,N[i]),et(i.toLowerCase()));tt("Weeks",6048e5),u&&(module.exports=t),typeof ender=="undefined"&&(this.moment=t),typeof define=="function"&&define.amd&&define("moment",[],function(){return t})}.call(this),define("moment/moment",function(){}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.3";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t){return x.isEmpty(t)?[]:x.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)){o++;if(!(u=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(e);for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=""+ ++P;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){n=x.defaults({},n,x.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),i=u+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,x);var a=function(e){return o.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",["underscore/underscore"],function(e){return e}),define("underscore/underscore",function(){}),function(e,t){typeof define=="function"&&define.amd?define("postal/lib/browser/postal",["underscore"],function(n){return t(n,e)}):t(e._,e)}(this,function(e,t,n){var r="/",i=50,s=0,o="postal",u=function(){},a=function(){var t;return function(n){var r=!1;return e.isString(n)?(r=n===t,t=n):(r=e.isEqual(n,t),t=e.clone(n)),!r}},f=function(){var t=[];return function(n){var r=!e.any(t,function(t){return e.isObject(n)||e.isArray(n)?e.isEqual(n,t):n===t});return r&&t.push(n),r}},l=function(e,t){this.channel=e||r,this._topic=t||""};l.prototype={subscribe:function(){var e=arguments.length;if(e===1)return new c(this.channel,this._topic,arguments[0]);if(e===2)return new c(this.channel,arguments[0],arguments[1])},publish:function(e){var t=e||{},n={channel:this.channel,topic:this._topic,data:t};return t.topic&&t.data&&(n=t,n.channel=n.channel||this.channel),n.timeStamp=new Date,g.configuration.bus.publish(n),n},topic:function(e){return e===this._topic?this:new l(this.channel,e)}};var c=function(e,t,n){this.channel=e,this.topic=t,this.callback=n,this.priority=i,this.constraints=new Array(0),this.maxCalls=s,this.onHandled=u,this.context=null,g.configuration.bus.publish({channel:o,topic:"subscription.created",timeStamp:new Date,data:{event:"subscription.created",channel:e,topic:t}}),g.configuration.bus.subscribe(this)};c.prototype={unsubscribe:function(){g.configuration.bus.unsubscribe(this),g.configuration.bus.publish({channel:o,topic:"subscription.removed",timeStamp:new Date,data:{event:"subscription.removed",channel:this.channel,topic:this.topic}})},defer:function(){var e=this.callback;return this.callback=function(t){setTimeout(e,0,t)},this},disposeAfter:function(t){if(e.isNaN(t)||t<=0)throw"The value provided to disposeAfter (maxCalls) must be a number greater than zero.";var n=this.onHandled,r=e.after(t,e.bind(function(){this.unsubscribe(this)},this));return this.onHandled=function(){n.apply(this.context,arguments),r()},this},distinctUntilChanged:function(){return this.withConstraint(new a),this},distinct:function(){return this.withConstraint(new f),this},once:function(){this.disposeAfter(1)},withConstraint:function(t){if(!e.isFunction(t))throw"Predicate constraint must be a function";return this.constraints.push(t),this},withConstraints:function(t){var n=this;return e.isArray(t)&&e.each(t,function(e){n.withConstraint(e)}),n},withContext:function(e){return this.context=e,this},withDebounce:function(t){if(e.isNaN(t))throw"Milliseconds must be a number";var n=this.callback;return this.callback=e.debounce(n,t),this},withDelay:function(t){if(e.isNaN(t))throw"Milliseconds must be a number";var n=this.callback;return this.callback=function(e){setTimeout(function(){n(e)},t)},this},withPriority:function(t){if(e.isNaN(t))throw"Priority must be a number";return this.priority=t,g.configuration.bus.changePriority(this),this},withThrottle:function(t){if(e.isNaN(t))throw"Milliseconds must be a number";var n=this.callback;return this.callback=e.throttle(n,t),this},subscribe:function(e){return this.callback=e,this}};var h={cache:{},compare:function(e,t){if(this.cache[t]&&this.cache[t][e])return!0;var n=("^"+e.replace(/\./g,"\\.").replace(/\*/g,"[A-Z,a-z,0-9]*").replace(/#/g,".*")+"$").replace("\\..*$","(\\..*)*$").replace("^.*\\.","^(.*\\.)*"),r=new RegExp(n),i=r.test(t);return i&&(this.cache[t]||(this.cache[t]={}),this.cache[t][e]=!0),i},reset:function(){this.cache={}}},p={addWireTap:function(e){var t=this;return t.wireTaps.push(e),function(){var n=t.wireTaps.indexOf(e);n!==-1&&t.wireTaps.splice(n,1)}},changePriority:function(t){var n,r;if(this.subscriptions[t.channel]&&this.subscriptions[t.channel][t.topic]){this.subscriptions[t.channel][t.topic]=e.without(this.subscriptions[t.channel][t.topic],t),n=this.subscriptions[t.channel][t.topic].length-1;for(;n>=0;n--)if(this.subscriptions[t.channel][t.topic][n].priority<=t.priority){this.subscriptions[t.channel][t.topic].splice(n+1,0,t),r=!0;break}r||this.subscriptions[t.channel][t.topic].unshift(t)}},publish:function(t){e.each(this.wireTaps,function(e){e(t.data,t)}),this.subscriptions[t.channel]&&e.each(this.subscriptions[t.channel],function(n){e.each(e.clone(n),function(n){g.configuration.resolver.compare(n.topic,t.topic)&&e.all(n.constraints,function(e){return e.call(n.context,t.data,t)})&&typeof n.callback=="function"&&(n.callback.call(n.context,t.data,t),n.onHandled())})})},reset:function(){this.subscriptions&&(e.each(this.subscriptions,function(t){e.each(t,function(e){while(e.length)e.pop().unsubscribe()})}),this.subscriptions={})},subscribe:function(e){var t,n,r,i=this.subscriptions[e.channel],s;return i||(i=this.subscriptions[e.channel]={}),s=this.subscriptions[e.channel][e.topic],s||(s=this.subscriptions[e.channel][e.topic]=new Array(0)),s.push(e),e},subscriptions:{},wireTaps:new Array(0),unsubscribe:function(e){if(this.subscriptions[e.channel][e.topic]){var t=this.subscriptions[e.channel][e.topic].length,n=0;for(;n<t;n++)if(this.subscriptions[e.channel][e.topic][n]===e){this.subscriptions[e.channel][e.topic].splice(n,1);break}}}},d={1:function(e){if(!e)throw new Error("publishing from the 'global' postal.publish call requires a valid envelope.");return e.channel=e.channel||r,e.timeStamp=new Date,g.configuration.bus.publish(e),e},2:function(e,t){var n={channel:r,topic:e,timeStamp:new Date,data:t};return g.configuration.bus.publish(n),n},3:function(e,t,n){var r={channel:e,topic:t,timeStamp:new Date,data:n};return g.configuration.bus.publish(r),r}},v={1:function(e){var t=e,n,i={};return Object.prototype.toString.call(t)==="[object String]"?(t=r,n=e):(t=e.channel||r,n=e.topic,i=e.options||i),new g.channelTypes[i.type||"local"](t,n)},2:function(e,t){var n=e,i=t,s={};return Object.prototype.toString.call(t)==="[object Object]"&&(n=r,i=e,s=t),new g.channelTypes[s.type||"local"](n,i)},3:function(e,t,n){return new g.channelTypes[n.type||"local"](e,t)}},m={};p.subscriptions[o]={};var g={configuration:{bus:p,resolver:h,DEFAULT_CHANNEL:r,DEFAULT_PRIORITY:i,DEFAULT_DISPOSEAFTER:s,SYSTEM_CHANNEL:o},channelTypes:{local:l},channel:function(){var e=arguments.length;if(v[e])return v[e].apply(this,arguments)},subscribe:function(e){var t=e.callback,n=e.topic,i=e.channel||r;return new c(i,n,t)},publish:function(){var e=arguments.length;if(d[e])return d[e].apply(this,arguments)},addWireTap:function(e){return this.configuration.bus.addWireTap(e)},linkChannels:function(t,n){var i=[];return e.isArray(t)||(t=[t]),e.isArray(n)||(n=[n]),e.each(t,function(t){var s=t.topic||"#";e.each(n,function(n){var s=n.channel||r;i.push(g.subscribe({channel:t.channel||r,topic:t.topic||"#",callback:function(t,r){var i=e.clone(r);i.topic=e.isFunction(n.topic)?n.topic(r.topic):n.topic||r.topic,i.channel=s,i.data=t,g.publish(i)}}))})}),i},utils:{getSubscribersFor:function(){var e=arguments[0],t=arguments[1],n=[];return arguments.length===1&&(Object.prototype.toString.call(e)==="[object String]"?(e=g.configuration.DEFAULT_CHANNEL,t=arguments[0]):(e=arguments[0].channel||g.configuration.DEFAULT_CHANNEL,t=arguments[0].topic)),g.configuration.bus.subscriptions[e]&&g.configuration.bus.subscriptions[e].hasOwnProperty(t)&&(n=g.configuration.bus.subscriptions[e][t]),n},reset:function(){g.configuration.bus.reset(),g.configuration.resolver.reset()}}};return t.postal=g,g}),define("postal",["postal/lib/browser/postal"],function(e){return e});